import{j as e,C as Ge,a as We,L as He,P as Ye,b as Ke,B as Qe,A as Je,p as Xe,c as Ze,d as Ve,i as et,e as tt,f as nt,g as st}from"./chart-vendor-legvW3bz.js";import{a as at,r as h,R as rt}from"./react-vendor-DghaKJPf.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=a(i);fetch(i.href,r)}})();var ve={},_e=at;ve.createRoot=_e.createRoot,ve.hydrateRoot=_e.hydrateRoot;const P={config:{get:async t=>null,set:async(t,n)=>null},users:{list:async()=>[],create:async(t,n)=>null,update:async(t,n)=>null,deleteAll:async()=>{}},categories:{list:async()=>[]},transactions:{list:async(t=500)=>[],create:async t=>null,update:async(t,n)=>null,delete:async t=>{}},budgets:{list:async()=>[],create:async t=>null,update:async(t,n)=>null,delete:async t=>{}},goals:{list:async()=>[],create:async t=>null,update:async(t,n)=>null,delete:async t=>{},addContribution:async(t,n,a,s)=>null,getContributions:async t=>[]},recurring:{list:async()=>[],create:async t=>null,update:async(t,n)=>null,delete:async t=>{}}};let it=0;const se=[],ie=[];function A(t,n="info",a=3e3){const s=`toast-${it++}`;return se.push({id:s,message:t,type:n,duration:a}),ie.forEach(i=>i()),setTimeout(()=>{const i=se.findIndex(r=>r.id===s);i>-1&&(se.splice(i,1),ie.forEach(r=>r()))},a),s}function ct(t){const n=se.findIndex(a=>a.id===t);n>-1&&(se.splice(n,1),ie.forEach(a=>a()))}function ot(){const[,t]=h.useState(0);return h.useEffect(()=>{const n=()=>t(a=>a+1);return ie.push(n),()=>{const a=ie.indexOf(n);a>-1&&ie.splice(a,1)}},[]),se.length===0?null:e.jsx("div",{className:"toast-container",children:se.map(n=>e.jsxs("div",{className:`toast toast-${n.type}`,onClick:()=>ct(n.id),children:[e.jsxs("span",{className:"toast-icon",children:[n.type==="success"&&"‚úì",n.type==="error"&&"‚úï",n.type==="warning"&&"‚ö†",n.type==="info"&&"‚Ñπ"]}),e.jsx("span",{className:"toast-message",children:n.message})]},n.id))})}const Fe=h.createContext(null);function lt({children:t}){const[n,a]=h.useState([]),[s,i]=h.useState([]),[r,o]=h.useState([]),[c,l]=h.useState([]),[m,u]=h.useState([]),[f,d]=h.useState([]),[g,p]=h.useState(()=>{const v=localStorage.getItem("transaction-templates");return v?JSON.parse(v):[]}),[j,w]=h.useState(!0),[b,B]=h.useState(!1),[y,_]=h.useState("dark"),[F,q]=h.useState(null);h.useEffect(()=>{document.documentElement.classList.toggle("dark",y==="dark")},[y]),h.useEffect(()=>{localStorage.setItem("transaction-templates",JSON.stringify(g))},[g]);const $=h.useCallback((v,S)=>{const D=new Date(v.start_date),R=v.end_date?new Date(v.end_date):new Date,V=S.filter(G=>{const ee=new Date(G.date);return G.type==="expense"&&(!v.category||G.category===v.category)&&ee>=D&&ee<=R}).reduce((G,ee)=>G+ee.amount,0),le=v.amount-V,de=V/v.amount*100;return{...v,spent:V,remaining:le,percentage:de}},[]),I=h.useCallback(async()=>{w(!0);const[v,S,D,R,K,V]=await Promise.all([P.users.list(),P.categories.list(),P.transactions.list(),P.budgets.list(),P.goals.list(),P.recurring.list()]);a(v),o(S),i(D);const le=R.map(G=>$(G,D));l(le);const de=K.map(G=>{const ee=G.current_amount/G.target_amount*100,ye=G.deadline?Math.ceil((new Date(G.deadline).getTime()-new Date().getTime())/(1e3*60*60*24)):void 0;return{...G,percentage:ee,days_remaining:ye}});u(de),d(V),q(v.length>=2),w(!1)},[$]),x=h.useCallback(async()=>{B(!0),await I(),B(!1)},[I]);h.useEffect(()=>{I()},[I]);const Z={users:n,transactions:s,categories:r,budgets:c,goals:m,recurringPayments:f,templates:g,loading:j,refreshing:b,theme:y,isSetup:F,loadData:I,refreshData:x,setTheme:v=>{_(v)},handleSetupComplete:async(v,S)=>{const D=await P.users.create(v,"#007AFF"),R=await P.users.create(S,"#34C759");D&&R&&(a([D,R]),q(!0))},addTransaction:async v=>{try{const S=await P.transactions.create(v);S?(i(D=>[S,...D]),l(D=>D.map(R=>$(R,[S,...s]))),A("–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞","success")):A("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏","error")}catch(S){A("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏","error"),console.error("Add transaction error:",S)}},updateTransaction:async(v,S)=>{try{const D=await P.transactions.update(v,S);if(D){const R=s.map(K=>K.id===v?D:K);i(R),l(K=>K.map(V=>$(V,R))),A("–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞","success")}}catch(D){A("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏","error"),console.error("Update transaction error:",D)}},deleteTransaction:async v=>{if(window.confirm("–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é?"))try{await P.transactions.delete(v);const S=s.filter(D=>D.id!==v);i(S),l(D=>D.map(R=>$(R,S))),A("–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞","info")}catch(S){A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏","error"),console.error("Delete transaction error:",S)}},saveBudget:async(v,S)=>{try{(S?await P.budgets.update(S,v):await P.budgets.create(v))&&(A(S?"–ë—é–¥–∂–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω":"–ë—é–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω","success"),await I())}catch(D){A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞","error"),console.error("Budget save error:",D)}},deleteBudget:async v=>{try{await P.budgets.delete(v),l(S=>S.filter(D=>D.id!==v)),A("–ë—é–¥–∂–µ—Ç —É–¥–∞–ª—ë–Ω","info")}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏","error")}},saveGoal:async(v,S)=>{try{(S?await P.goals.update(S,v):await P.goals.create(v))&&(A(S?"–¶–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞":"–¶–µ–ª—å —Å–æ–∑–¥–∞–Ω–∞","success"),await I())}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ü–µ–ª–∏","error")}},deleteGoal:async v=>{try{await P.goals.delete(v),u(S=>S.filter(D=>D.id!==v)),A("–¶–µ–ª—å —É–¥–∞–ª–µ–Ω–∞","info")}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏","error")}},addContribution:async(v,S,D,R)=>{try{await P.goals.addContribution(v,S,D,R)&&(A("–í–∑–Ω–æ—Å –¥–æ–±–∞–≤–ª–µ–Ω","success"),await I())}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤–∑–Ω–æ—Å–∞","error")}},saveRecurring:async(v,S)=>{try{(S?await P.recurring.update(S,v):await P.recurring.create(v))&&(A(S?"–ü–ª–∞—Ç—ë–∂ –æ–±–Ω–æ–≤–ª—ë–Ω":"–ü–ª–∞—Ç—ë–∂ —Å–æ–∑–¥–∞–Ω","success"),await I())}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞","error")}},deleteRecurring:async v=>{try{await P.recurring.delete(v),d(S=>S.filter(D=>D.id!==v)),A("–ü–ª–∞—Ç—ë–∂ —É–¥–∞–ª—ë–Ω","info")}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏","error")}},toggleRecurring:async(v,S)=>{try{await P.recurring.update(v,{is_active:S}),d(D=>D.map(R=>R.id===v?{...R,is_active:S}:R))}catch{A("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏","error")}},saveTemplate:v=>{const S={...v,id:crypto.randomUUID()};p(D=>[...D,S]),A("–®–∞–±–ª–æ–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω","success")},deleteTemplate:v=>{p(S=>S.filter(D=>D.id!==v)),A("–®–∞–±–ª–æ–Ω —É–¥–∞–ª—ë–Ω","info")},applyTemplate:v=>g.find(S=>S.id===v),updateUser:async(v,S)=>{await P.users.update(v,{name:S}),a(D=>D.map(R=>R.id===v?{...R,name:S}:R))},setUsers:a};return e.jsx(Fe.Provider,{value:Z,children:t})}function Ae(){const t=h.useContext(Fe);if(!t)throw new Error("useApp must be used within AppProvider");return t}function dt(t){const n=new Date(t),a=new Date;return n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear()}function ut(t,n){return h.useMemo(()=>{const a=t.filter(b=>dt(b.date)),s=new Date,i=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),r=s.getDate(),o=i-r,c={};n.forEach(b=>{c[b.id]={income:0,expense:0,shared:0}});let l=0,m=0,u=0,f=0;a.forEach(b=>{b.type==="income"?(l+=b.amount,c[b.user_id]&&(c[b.user_id].income+=b.amount)):(m+=b.amount,c[b.user_id]&&(c[b.user_id].expense+=b.amount),b.is_shared&&(u+=b.amount,c[b.user_id]&&(c[b.user_id].shared+=b.amount)),b.is_credit&&(f+=b.amount))});const d=r>0?m/r:0,g=d*i,p=u/2,w=(c[n[0]?.id]?.shared||0)-p;return{totalIncome:l,totalExpense:m,balance:l-m,sharedExpense:u,creditExpense:f,debt:w,byUser:c,dailyAverage:d,daysInMonth:i,remainingDays:o,projectedMonthlyExpense:g}},[t,n])}function L(t){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function Be(t){return new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})}function mt(t){const n=new Date;n.setHours(0,0,0,0);const a=new Date(t);a.setHours(0,0,0,0);const s=a.getTime()-n.getTime();return Math.ceil(s/(1e3*60*60*24))}const ht=h.memo(function({stats:n,healthGrade:a}){const s=n.balance>=0;return e.jsxs("div",{className:`card balance-card ${s?"positive":"negative"}`,children:[e.jsxs("div",{className:"balance-header",children:[e.jsx("span",{className:"balance-label",children:"–ë–∞–ª–∞–Ω—Å –∑–∞ –º–µ—Å—è—Ü"}),a&&e.jsx("span",{className:"health-badge",children:a})]}),e.jsx("div",{className:"balance-amount",children:L(n.balance)}),e.jsxs("div",{className:"balance-details",children:[e.jsxs("div",{className:"balance-item income",children:[e.jsx("span",{children:"–î–æ—Ö–æ–¥—ã"}),e.jsxs("span",{children:["+",L(n.totalIncome)]})]}),e.jsxs("div",{className:"balance-item expense",children:[e.jsx("span",{children:"–†–∞—Å—Ö–æ–¥—ã"}),e.jsxs("span",{children:["-",L(n.totalExpense)]})]})]}),e.jsxs("div",{className:"balance-daily",children:[e.jsxs("div",{className:"daily-stat",children:[e.jsx("span",{className:"daily-label",children:"–í —Å—Ä–µ–¥–Ω–µ–º/–¥–µ–Ω—å"}),e.jsx("span",{className:"daily-value",children:L(n.dailyAverage)})]}),e.jsxs("div",{className:"daily-stat",children:[e.jsx("span",{className:"daily-label",children:"–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π"}),e.jsx("span",{className:"daily-value",children:n.remainingDays})]})]})]})});function fe(t,n){if(t.length!==n.length||t.length<2)throw new Error("Arrays must have equal length and at least 2 points");const a=t.length,s=t.reduce((j,w)=>j+w,0)/a,i=n.reduce((j,w)=>j+w,0)/a;let r=0,o=0;for(let j=0;j<a;j++)r+=(t[j]-s)*(n[j]-i),o+=(t[j]-s)**2;const c=o!==0?r/o:0,l=i-c*s,m=t.map(j=>c*j+l),u=n.reduce((j,w,b)=>j+(w-m[b])**2,0),f=n.reduce((j,w)=>j+(w-i)**2,0),d=f!==0?1-u/f:0,g=c*a+l,p=Math.min(.95,Math.max(.1,d*(1-1/a)));return{slope:c,intercept:l,r_squared:d,prediction:Math.max(0,g),confidence:p}}function be(t,n){return Math.max(0,t.slope*n+t.intercept)}function pt(t,n=3){if(t.length<3)return[];const a=[...t].sort((m,u)=>m.date.getTime()-u.date.getTime()),s=a.map((m,u)=>u),i=a.map(m=>m.amount),r=fe(s,i),o=Ne(i),c=[],l=a[a.length-1].date;for(let m=1;m<=n;m++){const u=s.length-1+m,f=be(r,u),d=1+m*.1,g=o*d,p=new Date(l);p.setMonth(p.getMonth()+m),c.push({date:p.toISOString().split("T")[0],predicted_expense:Math.round(f),predicted_income:0,confidence_low:Math.max(0,Math.round(f-g)),confidence_high:Math.round(f+g)})}return c}function gt(t,n){if(t.length<12){const d=t.reduce((g,p)=>g+p.expense,0)/t.length;return Math.round(d)}const a=Array(12).fill(0),s=Array(12).fill(0);t.forEach(d=>{const g=new Date(d.month+"-01").getMonth();a[g]+=d.expense,s[g]++});const i=t.reduce((d,g)=>d+g.expense,0)/t.length,r=a.map((d,g)=>s[g]>0?d/s[g]/i:1),o=t.slice(-6),c=o.map((d,g)=>g),l=o.map(d=>d.expense),m=fe(c,l),u=be(m,c.length),f=r[n]||1;return Math.round(u*f)}function xt(t){if(t.length<2)return{direction:"stable",change_percent:0,average:t[0]||0,min:t[0]||0,max:t[0]||0,volatility:0};const n=t.map((d,g)=>g),a=fe(n,t),s=t.reduce((d,g)=>d+g,0)/t.length,i=Math.min(...t),r=Math.max(...t),o=Ne(t)/s,c=t.slice(0,Math.floor(t.length/2)).reduce((d,g)=>d+g,0)/Math.floor(t.length/2),l=t.slice(Math.floor(t.length/2)).reduce((d,g)=>d+g,0)/Math.ceil(t.length/2),m=c!==0?(l-c)/c*100:0;let u;return Math.abs(a.slope)/s<.02||a.r_squared<.3?u="stable":a.slope>0?u="up":u="down",{direction:u,change_percent:Math.round(m*10)/10,average:Math.round(s),min:i,max:r,volatility:Math.round(o*100)/100}}function ft(t,n,a=2.5){if(n.length<5)return{isAnomaly:!1,zScore:0,expectedRange:[0,1/0]};const s=n.reduce((o,c)=>o+c,0)/n.length,i=Ne(n);if(i===0)return{isAnomaly:t!==s,zScore:t===s?0:1/0,expectedRange:[s,s]};const r=(t-s)/i;return{isAnomaly:Math.abs(r)>a,zScore:Math.round(r*100)/100,expectedRange:[Math.round(s-a*i),Math.round(s+a*i)]}}function yt(t,n,a=1.5){if(n.length<4)return{isAnomaly:!1,severity:"none"};const s=[...n].sort((f,d)=>f-d),i=Ce(s,25),r=Ce(s,75),o=r-i,c=i-a*o,l=r+a*o,m=i-3*o,u=r+3*o;return t<m||t>u?{isAnomaly:!0,severity:"extreme"}:t<c||t>l?{isAnomaly:!0,severity:"mild"}:{isAnomaly:!1,severity:"none"}}function jt(t,n){if(t.length<n)return t.map(()=>t.reduce((s,i)=>s+i,0)/t.length);const a=[];for(let s=0;s<t.length;s++)if(s<n-1){const i=t.slice(0,s+1);a.push(i.reduce((r,o)=>r+o,0)/i.length)}else{const i=t.slice(s-n+1,s+1);a.push(i.reduce((r,o)=>r+o,0)/n)}return a.map(s=>Math.round(s))}function vt(t,n=.3){if(t.length===0)return[];const a=[t[0]];for(let s=1;s<t.length;s++){const i=n*t[s]+(1-n)*a[s-1];a.push(Math.round(i))}return a}function Ne(t){if(t.length<2)return 0;const n=t.reduce((i,r)=>i+r,0)/t.length,s=t.map(i=>(i-n)**2).reduce((i,r)=>i+r,0)/t.length;return Math.sqrt(s)}function Ce(t,n){const a=n/100*(t.length-1),s=Math.floor(a),i=Math.ceil(a);if(s===i)return t[s];const r=a-s;return t[s]*(1-r)+t[i]*r}const he={linearRegression:fe,predict:be,forecastExpenses:pt,forecastWithSeasonality:gt,analyzeTrend:xt,isAnomaly:ft,detectAnomaliesIQR:yt,movingAverage:jt,exponentialMovingAverage:vt},me={savings:.3,budget:.25,debt:.2,stability:.25},M={savings:{excellent:.2,good:.1,fair:.05,poor:0},budget:{excellent:.9,good:.7,fair:.5,poor:0},debt:{excellent:.1,good:.2,fair:.4,poor:.4},stability:{excellent:.15,good:.25,fair:.4,poor:.4}};function bt(t,n,a,s=[]){const i=Nt(t,n,a),r=St(i),o=_t(i),c=Ct(i),l=wt(i),m=Math.round(r*me.savings+o*me.budget+c*me.debt+l*me.stability),{grade:u,emoji:f,summary:d}=kt(m),g={overall:m,savings:r,budget:o,debt:c,stability:l,grade:u,emoji:f,summary:d},p=Dt(g,i),j=Ie(t),w={income:he.analyzeTrend(j.map(B=>B.income)),expense:he.analyzeTrend(j.map(B=>B.expense)),savings:he.analyzeTrend(j.map(B=>B.income-B.expense))},b=Ft(m,s);return{score:g,metrics:i,recommendations:p,trends:w,comparison:b}}function Nt(t,n,a){const s=new Date,i=new Date(s.getFullYear(),s.getMonth(),1),r=t.filter(T=>new Date(T.date)>=i),o=r.filter(T=>T.type==="income"),c=r.filter(T=>T.type==="expense"),l=o.reduce((T,E)=>T+E.amount,0),m=c.reduce((T,E)=>T+E.amount,0),u=l-m,f=l>0?u/l:0,d=n.filter(T=>T.is_active);let g=0,p=0;d.forEach(T=>{c.filter(Y=>Y.category_id===T.category_id).reduce((Y,U)=>Y+U.amount,0)<=T.amount?g++:p++});const j=d.length>0?g/d.length:1,w=Tt(c),b=w.length>0?w.reduce((T,E)=>T+E,0)/w.length:0,B=Mt(w),y=Math.max(...c.map(T=>T.amount),0),F=c.filter(T=>T.is_credit).reduce((T,E)=>T+E.amount,0),q=m>0?F/m:0,$=a.filter(T=>!T.is_completed),I=$.length>0?$.reduce((T,E)=>{const Y=E.target_amount>0?E.current_amount/E.target_amount:0;return T+Math.min(1,Y)},0)/$.length:1;let x=0;$.forEach(T=>{if(!T.deadline){x++;return}const E=T.target_amount-T.current_amount,Y=Math.max(1,(new Date(T.deadline).getTime()-s.getTime())/(1e3*60*60*24)),U=E/Y;u/s.getDate()>=U*.8&&x++});const k=Ie(t),N=he.analyzeTrend(k.map(T=>T.expense)),z=he.analyzeTrend(k.map(T=>T.income));return{total_income:l,total_expense:m,net_savings:u,savings_rate:f,budgets_on_track:g,budgets_exceeded:p,budget_adherence_rate:j,avg_daily_expense:Math.round(b),expense_volatility:B,largest_expense:y,credit_usage:F,credit_ratio:q,goals_progress:I,goals_on_track:x,expense_trend:N.direction==="up"?"increasing":N.direction==="down"?"decreasing":"stable",income_trend:z.direction==="up"?"increasing":z.direction==="down"?"decreasing":"stable"}}function St(t){const n=t.savings_rate;return n>=M.savings.excellent?100:n>=M.savings.good?70+30*(n-M.savings.good)/(M.savings.excellent-M.savings.good):n>=M.savings.fair?40+30*(n-M.savings.fair)/(M.savings.good-M.savings.fair):n>0?40*n/M.savings.fair:Math.max(0,20+n*100)}function _t(t){const n=t.budget_adherence_rate;return t.budgets_on_track+t.budgets_exceeded===0?70:n>=M.budget.excellent?100:n>=M.budget.good?70+30*(n-M.budget.good)/(M.budget.excellent-M.budget.good):n>=M.budget.fair?40+30*(n-M.budget.fair)/(M.budget.good-M.budget.fair):40*n/M.budget.fair}function Ct(t){const n=t.credit_ratio;return n===0||n<=M.debt.excellent?100:n<=M.debt.good?70+30*(M.debt.good-n)/(M.debt.good-M.debt.excellent):n<=M.debt.fair?40+30*(M.debt.fair-n)/(M.debt.fair-M.debt.good):Math.max(0,40-(n-M.debt.poor)*100)}function wt(t){const n=t.expense_volatility;let a=0;t.expense_trend==="increasing"&&(a=10),t.income_trend==="decreasing"&&(a+=10);let s;return n<=M.stability.excellent?s=100:n<=M.stability.good?s=70+30*(M.stability.good-n)/(M.stability.good-M.stability.excellent):n<=M.stability.fair?s=40+30*(M.stability.fair-n)/(M.stability.fair-M.stability.good):s=Math.max(0,40-(n-M.stability.poor)*50),Math.max(0,s-a)}function kt(t){return t>=90?{grade:"A",emoji:"üåü",summary:"–û—Ç–ª–∏—á–Ω–æ–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ!"}:t>=75?{grade:"B",emoji:"üòä",summary:"–•–æ—Ä–æ—à–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤"}:t>=60?{grade:"C",emoji:"üòê",summary:"–ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å"}:t>=40?{grade:"D",emoji:"üòü",summary:"–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–∏–º–∞–Ω–∏–µ –∫ —Ñ–∏–Ω–∞–Ω—Å–∞–º"}:{grade:"F",emoji:"üö®",summary:"–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è"}}function Dt(t,n){const a=[];t.savings<60&&(n.savings_rate<0?a.push({category:"savings",priority:"high",title:"–†–∞—Å—Ö–æ–¥—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç –¥–æ—Ö–æ–¥—ã",description:"–í—ã —Ç—Ä–∞—Ç–∏—Ç–µ –±–æ–ª—å—à–µ, —á–µ–º –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ. –≠—Ç–æ –≤–µ–¥—ë—Ç –∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—é –¥–æ–ª–≥–æ–≤.",action:"–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫—Ä—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –Ω–∞–π–¥–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏"}):n.savings_rate<.05&&a.push({category:"savings",priority:"medium",title:"–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π",description:`–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π ${Math.round(n.savings_rate*100)}%. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 10%.`,action:"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å 10% –æ—Ç –¥–æ—Ö–æ–¥–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—Ä–ø–ª–∞—Ç—ã"})),t.budget<60&&a.push({category:"budget",priority:n.budgets_exceeded>2?"high":"medium",title:"–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–æ–≤",description:`${n.budgets_exceeded} –∏–∑ ${n.budgets_on_track+n.budgets_exceeded} –±—é–¥–∂–µ—Ç–æ–≤ –ø—Ä–µ–≤—ã—à–µ–Ω—ã.`,action:"–ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–∏–º–∏—Ç—ã –∏–ª–∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã –≤ —ç—Ç–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö"}),t.debt<60&&a.push({category:"debt",priority:n.credit_ratio>.3?"high":"medium",title:"–í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–∞",description:`${Math.round(n.credit_ratio*100)}% —Ä–∞—Å—Ö–æ–¥–æ–≤ ‚Äî –≤ –∫—Ä–µ–¥–∏—Ç. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ.`,action:"–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–∫—É–ø–æ–∫"}),t.stability<60&&(n.expense_volatility>.4&&a.push({category:"stability",priority:"low",title:"–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã",description:"–í–∞—à–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã —Å–∏–ª—å–Ω–æ –≤–∞—Ä—å–∏—Ä—É—é—Ç—Å—è. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.",action:"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –Ω–∞ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ —Ç—Ä–∞—Ç—ã"}),n.expense_trend==="increasing"&&a.push({category:"stability",priority:"medium",title:"–†–∞—Å—Ö–æ–¥—ã —Ä–∞—Å—Ç—É—Ç",description:"–ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é —Ä–∞—Å—Ö–æ–¥–æ–≤.",action:"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –Ω–æ–≤—ã—Ö —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–∞—Ç, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è"})),a.length===0&&a.push({category:"general",priority:"low",title:"–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! üéâ",description:"–í–∞—à–∏ —Ñ–∏–Ω–∞–Ω—Å—ã –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.",action:"–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –ø–æ–¥—É—à–∫–∏"});const s={high:0,medium:1,low:2};return a.sort((i,r)=>s[i.priority]-s[r.priority]),a}function Tt(t){const n={};return t.forEach(a=>{const s=new Date(a.date).toISOString().split("T")[0];n[s]=(n[s]||0)+a.amount}),Object.values(n)}function Mt(t){if(t.length<2)return 0;const n=t.reduce((r,o)=>r+o,0)/t.length;if(n===0)return 0;const s=t.map(r=>(r-n)**2).reduce((r,o)=>r+o,0)/t.length;return Math.sqrt(s)/n}function Ie(t){const n={};return t.forEach(a=>{const s=a.date.substring(0,7);n[s]||(n[s]={income:0,expense:0}),a.type==="income"?n[s].income+=a.amount:a.type==="expense"&&(n[s].expense+=a.amount)}),Object.entries(n).map(([a,s])=>({month:a,...s})).sort((a,s)=>a.month.localeCompare(s.month))}function Ft(t,n){if(n.length===0)return{vs_last_month:0,vs_last_quarter:0};const a=[...n].sort((r,o)=>o.snapshot_date.localeCompare(r.snapshot_date)),s=a[0]?.overall_score||t,i=a[2]?.overall_score||s;return{vs_last_month:t-s,vs_last_quarter:t-i}}function At(t,n){return{family_id:t,snapshot_date:new Date().toISOString().split("T")[0],overall_score:n.score.overall,savings_score:n.score.savings,budget_score:n.score.budget,debt_score:n.score.debt,stability_score:n.score.stability,metrics:n.metrics}}const Bt={analyzeFinancialHealth:bt,createHealthSnapshot:At,WEIGHTS:me,THRESHOLDS:M};function Re(t,n="default"){return{id:t.id,family_id:n,name:t.name,type:t.type,icon:t.icon,color:t.color,keywords:[],is_system:!1,created_at:new Date().toISOString(),parent_id:void 0}}function $e(t,n="default"){return{id:t.id,family_id:n,user_id:t.user_id,type:t.type,amount:t.amount,currency:"RUB",description:t.description,date:t.date,is_shared:t.is_shared,is_recurring:!1,is_credit:t.is_credit,category_id:void 0,account_id:void 0,tags:[],created_at:t.created_at,updated_at:t.created_at}}function we(t,n){return n.find(a=>a.name===t)?.id}const It=h.memo(function({transactions:n,categories:a,budgets:s,goals:i}){const r=h.useMemo(()=>{try{const c=a.map(d=>Re(d)),m=n.map(d=>$e(d)).map(d=>{const g=n.find(j=>j.id===d.id)?.category,p=g?we(g,a):void 0;return{...d,category_id:p}}),u=s.map(d=>({id:d.id,family_id:"",category_id:d.category?we(d.category,a):void 0,name:d.name,amount:d.amount,period:d.period,alert_threshold:d.alert_threshold,start_date:d.start_date,end_date:d.end_date,is_active:d.is_active,created_at:d.created_at,updated_at:d.updated_at,spent:d.spent,remaining:d.remaining,percentage:d.percentage})),f=i.map(d=>({id:d.id,family_id:"",name:d.name,icon:d.icon,target_amount:d.target_amount,current_amount:d.current_amount,deadline:d.deadline,is_completed:d.is_completed,completed_at:d.completed_at,created_at:d.created_at,updated_at:d.updated_at,percentage:d.percentage,days_remaining:d.days_remaining}));return Bt.analyzeFinancialHealth(m,u,f)}catch(c){return console.error("Health analysis error:",c),null}},[n,a,s,i]);if(!r)return null;const o=c=>{switch(c){case"A":return"var(--green)";case"B":return"#32d74b";case"C":return"var(--yellow)";case"D":return"var(--orange)";default:return"var(--red)"}};return e.jsxs("div",{className:"card health-card glass",children:[e.jsx("h3",{className:"card-title",children:"üíö –§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ"}),e.jsxs("div",{className:"health-content",children:[e.jsxs("div",{className:"health-score-display",children:[e.jsx("div",{className:"health-score-circle",style:{background:`conic-gradient(${o(r.score.grade)} ${r.score.overall*3.6}deg, var(--bg-tertiary) 0deg)`},children:e.jsxs("div",{className:"health-score-inner",children:[e.jsx("span",{className:"health-score-value",children:r.score.overall}),e.jsx("span",{className:"health-score-emoji",children:r.score.emoji})]})}),e.jsxs("div",{className:"health-score-info",children:[e.jsxs("div",{className:"health-grade",style:{color:o(r.score.grade)},children:["–û—Ü–µ–Ω–∫–∞: ",r.score.grade]}),e.jsx("div",{className:"health-summary",children:r.score.summary})]})]}),e.jsxs("div",{className:"health-breakdown",children:[e.jsx(ge,{label:"–°–±–µ—Ä–µ–∂–µ–Ω–∏—è",value:r.score.savings}),e.jsx(ge,{label:"–ë—é–¥–∂–µ—Ç",value:r.score.budget}),e.jsx(ge,{label:"–î–æ–ª–≥–∏",value:r.score.debt}),e.jsx(ge,{label:"–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å",value:r.score.stability})]}),r.recommendations.length>0&&e.jsxs("div",{className:"health-recommendation",children:[e.jsx("div",{className:"recommendation-icon",children:"üí°"}),e.jsxs("div",{className:"recommendation-content",children:[e.jsx("strong",{children:r.recommendations[0].title}),e.jsx("p",{children:r.recommendations[0].description})]})]})]})]})});function ge({label:t,value:n}){const a=s=>s>=80?"var(--green)":s>=60?"var(--yellow)":s>=40?"var(--orange)":"var(--red)";return e.jsxs("div",{className:"score-bar-item",children:[e.jsxs("div",{className:"score-bar-header",children:[e.jsx("span",{children:t}),e.jsx("span",{children:n})]}),e.jsx("div",{className:"score-bar-track",children:e.jsx("div",{className:"score-bar-fill animated",style:{width:`${n}%`,backgroundColor:a(n)}})})]})}const Rt=h.memo(function({users:n,stats:a}){return e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"üë• –ü–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º"}),n.map((s,i)=>{const r=a.byUser[s.id]||{income:0,expense:0};return e.jsxs("div",{className:"user-stat-row animate-slide-in",style:{"--index":i},children:[e.jsxs("div",{className:"user-info",children:[e.jsx("span",{className:"user-avatar pulse-on-hover",style:{background:s.color},children:s.name[0]}),e.jsx("span",{className:"user-name",children:s.name})]}),e.jsxs("div",{className:"user-amounts",children:[e.jsxs("span",{className:"expense",children:["-",L(r.expense)]}),e.jsxs("span",{className:"income",children:["+",L(r.income)]})]})]},s.id)})]})}),$t=h.memo(function({debt:n,users:a}){return n===0||a.length<2?null:e.jsxs("div",{className:"card debt-card glass",children:[e.jsx("h3",{className:"card-title",children:"üí∞ –†–∞—Å—á—ë—Ç"}),e.jsxs("div",{className:"debt-info",children:[n>0?e.jsxs("p",{children:[e.jsx("strong",{children:a[1]?.name})," –¥–æ–ª–∂–µ–Ω(–∞) ",e.jsx("strong",{children:a[0]?.name})]}):e.jsxs("p",{children:[e.jsx("strong",{children:a[0]?.name})," –¥–æ–ª–∂–µ–Ω(–∞) ",e.jsx("strong",{children:a[1]?.name})]}),e.jsx("div",{className:"debt-amount animate-number",children:L(Math.abs(n))})]})]})}),ze=h.memo(function({tx:n,showUser:a=!1,showDate:s=!1,index:i=0,onDelete:r,onEdit:o}){const c=n.type==="income",m=(u=>({–ü—Ä–æ–¥—É–∫—Ç—ã:"#4CAF50",–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:"#2196F3",–†–µ—Å—Ç–æ—Ä–∞–Ω—ã:"#FF9800",–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è:"#9C27B0",–ö–æ–º–º—É–Ω–∞–ª–∫–∞:"#607D8B",–ó–¥–æ—Ä–æ–≤—å–µ:"#E91E63",–û–¥–µ–∂–¥–∞:"#00BCD4",–ü–æ–¥–∞—Ä–∫–∏:"#F44336",–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:"#3F51B5",–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è:"#009688",–î–æ–º:"#795548",–°–≤—è–∑—å:"#673AB7",–ü–æ–¥–ø–∏—Å–∫–∏:"#FF5722","–•–æ–∑ —Ç–æ–≤–∞—Ä—ã":"#8BC34A",–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã:"#FF7043",–ó–∞—Ä–ø–ª–∞—Ç–∞:"#4CAF50",–§—Ä–∏–ª–∞–Ω—Å:"#2196F3",–ö—ç—à–±—ç–∫:"#FF9800"})[u]||"#9E9E9E")(n.category||"");return e.jsxs("div",{className:"transaction-item animate-slide-in",style:{"--index":i,"--category-color":m},children:[e.jsx("div",{className:`transaction-icon ${c?"income":n.is_shared?"shared":"expense"}`,style:{background:c?"rgba(52, 199, 89, 0.15)":n.is_shared?"rgba(0, 122, 255, 0.15)":`${m}20`},children:n.category?.[0]||(c?"üí∞":"üí∏")}),e.jsxs("div",{className:"transaction-info",onClick:o,style:o?{cursor:"pointer"}:void 0,children:[e.jsxs("span",{className:"transaction-category",children:[n.category||"–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",n.is_shared&&e.jsx("span",{className:"badge shared",children:"–æ–±—â–∏–π"}),n.is_credit&&e.jsx("span",{className:"badge credit",children:"–∫—Ä–µ–¥–∏—Ç"})]}),e.jsxs("span",{className:"transaction-meta",children:[s&&Be(n.date),s&&a&&" ¬∑ ",a&&n.user?.name,n.description&&` ¬∑ ${n.description}`]})]}),e.jsxs("span",{className:`transaction-amount ${c?"income":"expense"}`,children:[c?"+":"-",L(n.amount)]}),(o||r)&&e.jsxs("div",{className:"transaction-actions",children:[o&&e.jsx("button",{className:"action-btn edit",onClick:o,title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",children:"‚úèÔ∏è"}),r&&e.jsx("button",{className:"action-btn delete",onClick:r,title:"–£–¥–∞–ª–∏—Ç—å",children:"üóëÔ∏è"})]})]})}),zt=h.memo(function({transactions:n}){const a=n.slice(0,5);return a.length===0?null:e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"üïê –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"}),e.jsx("div",{className:"transactions-list",children:a.map((s,i)=>e.jsx(ze,{tx:s,showUser:!0,index:i},s.id))})]})}),Et=h.memo(function({stats:n,goals:a,budgets:s}){const[i,r]=h.useState(""),[o,c]=h.useState(""),l=h.useMemo(()=>{const u=parseFloat(i)||0;if(u<=0)return null;const f=n.balance,d=f-u,g=n.remainingDays>0?(f-u)/n.remainingDays:0,p=s.find(y=>(!y.category||y.category===o)&&y.remaining&&y.remaining<u),w=a.filter(y=>!y.is_completed).reduce((y,_)=>y+(_.target_amount-_.current_amount),0),b=d>=w*.1,B=n.dailyAverage>0?u/(n.dailyAverage*30*.2):0;return{amount:u,balanceAfter:d,dailyBudgetRemaining:g,affectedBudget:p,canAffordGoals:b,monthsToSave:B,recommendation:m(u,f,n.totalIncome,p,b)}},[i,o,n,s,a]);function m(u,f,d,g,p){const j=u/d*100,w=u/Math.max(f,1)*100;return g?{status:"danger",message:`–ü—Ä–µ–≤—ã—Å–∏—Ç –±—é–¥–∂–µ—Ç "${g.name}" –Ω–∞ ${L(u-(g.remaining||0))}`}:w>100?{status:"danger",message:"–≠—Ç–∞ –ø–æ–∫—É–ø–∫–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å"}:p?j>30?{status:"caution",message:`–≠—Ç–æ ${j.toFixed(0)}% –æ—Ç –º–µ—Å—è—á–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ ‚Äî –∫—Ä—É–ø–Ω–∞—è –ø–æ–∫—É–ø–∫–∞`}:w>50?{status:"caution",message:"–ë–æ–ª–µ–µ –ø–æ–ª–æ–≤–∏–Ω—ã —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞"}:{status:"safe",message:"–ü–æ–∫—É–ø–∫–∞ –≤ —Ä–∞–º–∫–∞—Ö –±—é–¥–∂–µ—Ç–∞"}:{status:"caution",message:"–ú–æ–∂–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–µ–ª–µ–π"}}return e.jsxs("div",{className:"card glass calculator-card",children:[e.jsx("h3",{className:"card-title",children:"üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–∫—É–ø–æ–∫"}),e.jsx("p",{className:"card-subtitle",children:"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –ø–æ–∫—É–ø–∫–∞ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à –±—é–¥–∂–µ—Ç"}),e.jsxs("div",{className:"calculator-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–°—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏"}),e.jsx("input",{type:"number",value:i,onChange:u=>r(u.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: 15000",className:"amount-input calculator-input"})]}),s.length>0&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"}),e.jsxs("select",{value:o,onChange:u=>c(u.target.value),className:"select-input",children:[e.jsx("option",{value:"",children:"–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é..."}),s.map(u=>e.jsx("option",{value:u.category||"",children:u.name},u.id))]})]})]}),l&&e.jsxs("div",{className:"calculator-results animate-fade-in",children:[e.jsxs("div",{className:`calculator-status ${l.recommendation.status}`,children:[e.jsxs("span",{className:"status-icon",children:[l.recommendation.status==="safe"&&"‚úÖ",l.recommendation.status==="caution"&&"‚ö†Ô∏è",l.recommendation.status==="danger"&&"‚ùå"]}),e.jsx("span",{className:"status-message",children:l.recommendation.message})]}),e.jsxs("div",{className:"calculator-metrics",children:[e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å"}),e.jsx("span",{className:"metric-value",children:L(n.balance)})]}),e.jsxs("div",{className:"metric-row highlight",children:[e.jsx("span",{className:"metric-label",children:"–ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏"}),e.jsx("span",{className:`metric-value ${l.balanceAfter<0?"negative":""}`,children:L(l.balanceAfter)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"–ë—é–¥–∂–µ—Ç –≤ –¥–µ–Ω—å (–æ—Å—Ç–∞—Ç–æ–∫ –º–µ—Å—è—Ü–∞)"}),e.jsx("span",{className:"metric-value",children:L(l.dailyBudgetRemaining)})]}),l.monthsToSave>0&&e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"–í—Ä–µ–º—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è (–ø—Ä–∏ 20% —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π)"}),e.jsx("span",{className:"metric-value",children:l.monthsToSave<1?`${Math.ceil(l.monthsToSave*30)} –¥–Ω–µ–π`:`${l.monthsToSave.toFixed(1)} –º–µ—Å.`})]})]}),e.jsxs("div",{className:"calculator-visual",children:[e.jsxs("div",{className:"visual-bar",children:[e.jsx("div",{className:"visual-fill current",style:{width:`${Math.min(100,n.balance/n.totalIncome*100)}%`}}),e.jsx("div",{className:"visual-fill purchase",style:{width:`${Math.min(100,l.amount/n.totalIncome*100)}%`,left:`${Math.max(0,(n.balance-l.amount)/n.totalIncome*100)}%`}})]}),e.jsxs("div",{className:"visual-legend",children:[e.jsx("span",{children:"0 ‚ÇΩ"}),e.jsx("span",{children:L(n.totalIncome)})]})]})]})]})}),Ot=h.memo(function({transactions:n}){const a=h.useMemo(()=>{const s=[],i=new Date;i.setMonth(i.getMonth()-3);const r=n.filter(x=>x.type==="expense"&&new Date(x.date)>=i);if(r.length<10)return s;const o={};for(let x=0;x<7;x++)o[x]={count:0,total:0};r.forEach(x=>{const k=new Date(x.date).getDay();o[k].count++,o[k].total+=x.amount});const c=["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"],l=Object.entries(o).sort((x,k)=>k[1].total-x[1].total)[0];l&&s.push({icon:"üìÖ",title:`–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ç—Ä–∞—Ç–∏—Ç–µ –ø–æ ${c[parseInt(l[0])]?.toLowerCase()}–º`,description:`–°—Ä–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã: ${L(l[1].total/Math.max(1,l[1].count))}`,type:"info"});const m={};r.forEach(x=>{const k=x.category||"–î—Ä—É–≥–æ–µ";m[k]||(m[k]={count:0,total:0}),m[k].count++,m[k].total+=x.amount});const u=Object.entries(m).sort((x,k)=>k[1].count-x[1].count);if(u.length>0){const[x,k]=u[0];s.push({icon:"üèÜ",title:`–°–∞–º–∞—è —á–∞—Å—Ç–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: ${x}`,description:`${k.count} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ ${L(k.total)}`,type:"info"})}const f=o[0].total+o[6].total,d=Object.entries(o).filter(([x])=>x!=="0"&&x!=="6").reduce((x,[,k])=>x+k.total,0),g=2,p=5,j=f/g,w=d/p;j>w*1.5?s.push({icon:"üéâ",title:"–í—ã—Ö–æ–¥–Ω—ã–µ ‚Äî –≤—Ä–µ–º—è —Ç—Ä–∞—Ç!",description:`–í –≤—ã—Ö–æ–¥–Ω—ã–µ —Ç—Ä–∞—Ç–∏—Ç–µ –Ω–∞ ${Math.round((j/w-1)*100)}% –±–æ–ª—å—à–µ —á–µ–º –≤ –±—É–¥–Ω–∏`,type:"warning"}):w>j*1.5&&s.push({icon:"üíº",title:"–ë—É–¥–Ω–∏ –¥–æ—Ä–æ–∂–µ –≤—ã—Ö–æ–¥–Ω—ã—Ö",description:`–í –±—É–¥–Ω–∏ —Ç—Ä–∞—Ç–∏—Ç–µ –Ω–∞ ${Math.round((w/j-1)*100)}% –±–æ–ª—å—à–µ`,type:"info"});const b=[...r].sort((x,k)=>new Date(x.date).getTime()-new Date(k.date).getTime()),B=b.slice(0,Math.floor(b.length/2)),y=b.slice(Math.floor(b.length/2)),_=B.reduce((x,k)=>x+k.amount,0)/Math.max(1,B.length),F=y.reduce((x,k)=>x+k.amount,0)/Math.max(1,y.length);F>_*1.2?s.push({icon:"üìà",title:"–¢—Ä–∞—Ç—ã —Ä–∞—Å—Ç—É—Ç",description:`–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤—ã—Ä–æ—Å –Ω–∞ ${Math.round((F/_-1)*100)}%`,type:"warning"}):F<_*.8&&s.push({icon:"üìâ",title:"–¢—Ä–∞—Ç—ã —Å–Ω–∏–∂–∞—é—Ç—Å—è",description:`–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ —É–º–µ–Ω—å—à–∏–ª—Å—è –Ω–∞ ${Math.round((1-F/_)*100)}%`,type:"good"});const q=r.filter(x=>x.is_shared);if(q.length>0){const x=q.reduce((k,N)=>k+N.amount,0)/r.reduce((k,N)=>k+N.amount,0)*100;s.push({icon:"üë•",title:`${Math.round(x)}% —Ä–∞—Å—Ö–æ–¥–æ–≤ ‚Äî –æ–±—â–∏–µ`,description:`${q.length} –æ–±—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥`,type:x>40?"good":"info"})}const $=r.filter(x=>x.is_credit);if($.length>0){const x=$.reduce((z,T)=>z+T.amount,0),k=r.reduce((z,T)=>z+T.amount,0),N=x/k*100;s.push({icon:"üí≥",title:`${Math.round(N)}% –ø–æ–∫—É–ø–æ–∫ –≤ –∫—Ä–µ–¥–∏—Ç`,description:`–°—É–º–º–∞: ${L(x)}`,type:N>30?"warning":"info"})}const I=r.filter(x=>x.amount<500);if(I.length>r.length*.4){const x=I.reduce((k,N)=>k+N.amount,0);s.push({icon:"‚òï",title:"–ú–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö –ø–æ–∫—É–ø–æ–∫",description:`${I.length} –ø–æ–∫—É–ø–æ–∫ –¥–æ 500‚ÇΩ –Ω–∞ —Å—É–º–º—É ${L(x)}`,type:"warning"})}return s},[n]);return a.length===0?e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫"}),e.jsx("div",{className:"empty-state-mini",children:e.jsx("p",{children:"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞. –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π."})})]}):e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫"}),e.jsx("div",{className:"habits-list",children:a.map((s,i)=>e.jsxs("div",{className:`habit-item animate-slide-in ${s.type}`,style:{"--index":i},children:[e.jsx("span",{className:"habit-icon",children:s.icon}),e.jsxs("div",{className:"habit-content",children:[e.jsx("div",{className:"habit-title",children:s.title}),e.jsx("div",{className:"habit-description",children:s.description})]})]},i))})]})}),Lt=h.memo(function({stats:n,users:a,transactions:s,categories:i,budgets:r,goals:o}){return e.jsxs("div",{className:"tab-content dashboard-content",children:[e.jsx(ht,{stats:n}),e.jsx(It,{transactions:s,categories:i,budgets:r,goals:o}),e.jsx(Rt,{users:a,stats:n}),e.jsx($t,{debt:n.debt,users:a}),e.jsx(Ot,{transactions:s}),e.jsx(Et,{stats:n,goals:o,budgets:r}),e.jsx(zt,{transactions:s})]})});function Pt(t){const n=new Date(t),a=new Date,s=new Date(a);if(s.setDate(s.getDate()-1),n.toDateString()===a.toDateString())return"–°–µ–≥–æ–¥–Ω—è";if(n.toDateString()===s.toDateString())return"–í—á–µ—Ä–∞";const i=["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"][n.getDay()],r=n.getDate(),o=["—è–Ω–≤–∞—Ä—è","—Ñ–µ–≤—Ä–∞–ª—è","–º–∞—Ä—Ç–∞","–∞–ø—Ä–µ–ª—è","–º–∞—è","–∏—é–Ω—è","–∏—é–ª—è","–∞–≤–≥—É—Å—Ç–∞","—Å–µ–Ω—Ç—è–±—Ä—è","–æ–∫—Ç—è–±—Ä—è","–Ω–æ—è–±—Ä—è","–¥–µ–∫–∞–±—Ä—è"][n.getMonth()],c=new Date(a);return c.setDate(c.getDate()-7),n>c?i:`${r} ${o}`}const qt=h.memo(function({transactions:n,users:a,categories:s,onDelete:i,onEdit:r}){const[o,c]=h.useState("all"),[l,m]=h.useState("all"),[u,f]=h.useState("month"),[d,g]=h.useState("all"),[p,j]=h.useState(""),w=h.useMemo(()=>{const y=new Date,_=new Date(y.getFullYear(),y.getMonth(),y.getDate()),F=new Date(_.getTime()-7*24*60*60*1e3),q=new Date(y.getFullYear(),y.getMonth(),1);return n.filter($=>{if(o!=="all"&&$.type!==o||l!=="all"&&$.user_id!==l||d!=="all"&&$.category!==d)return!1;if(p){const I=p.toLowerCase(),x=$.description?.toLowerCase().includes(I),k=$.category?.toLowerCase().includes(I);if(!x&&!k)return!1}if(u!=="all"){const I=new Date($.date);if(u==="today"&&I<_||u==="week"&&I<F||u==="month"&&I<q)return!1}return!0})},[n,o,l,u,d,p]),b=h.useMemo(()=>{const y={};return w.forEach(_=>{const F=_.date.split("T")[0];y[F]||(y[F]={date:F,label:Pt(F),transactions:[],total:0}),y[F].transactions.push(_),_.type==="expense"?y[F].total-=_.amount:y[F].total+=_.amount}),Object.values(y).sort((_,F)=>F.date.localeCompare(_.date))},[w]),B=s.filter(y=>y.type==="expense");return e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"search-bar",children:[e.jsx("span",{className:"search-icon",children:"üîç"}),e.jsx("input",{type:"text",value:p,onChange:y=>j(y.target.value),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏...",className:"search-input"}),p&&e.jsx("button",{className:"search-clear",onClick:()=>j(""),children:"‚úï"})]}),e.jsxs("div",{className:"filter-bar",children:[e.jsx("button",{className:`filter-btn ${o==="all"?"active":""}`,onClick:()=>c("all"),children:"–í—Å–µ"}),e.jsx("button",{className:`filter-btn ${o==="expense"?"active":""}`,onClick:()=>c("expense"),children:"–†–∞—Å—Ö–æ–¥—ã"}),e.jsx("button",{className:`filter-btn ${o==="income"?"active":""}`,onClick:()=>c("income"),children:"–î–æ—Ö–æ–¥—ã"})]}),e.jsxs("div",{className:"date-filter",children:[e.jsx("button",{className:`date-filter-btn ${u==="today"?"active":""}`,onClick:()=>f("today"),children:"–°–µ–≥–æ–¥–Ω—è"}),e.jsx("button",{className:`date-filter-btn ${u==="week"?"active":""}`,onClick:()=>f("week"),children:"–ù–µ–¥–µ–ª—è"}),e.jsx("button",{className:`date-filter-btn ${u==="month"?"active":""}`,onClick:()=>f("month"),children:"–ú–µ—Å—è—Ü"}),e.jsx("button",{className:`date-filter-btn ${u==="all"?"active":""}`,onClick:()=>f("all"),children:"–í—Å—ë –≤—Ä–µ–º—è"})]}),e.jsxs("div",{className:"user-filter",children:[e.jsx("button",{className:`user-filter-btn ${l==="all"?"active":""}`,onClick:()=>m("all"),children:"–í—Å–µ"}),a.map(y=>e.jsx("button",{className:`user-filter-btn ${l===y.id?"active":""}`,onClick:()=>m(y.id),style:{"--user-color":y.color},children:y.name},y.id))]}),o==="expense"&&e.jsx("div",{className:"category-filter",children:e.jsxs("select",{value:d,onChange:y=>g(y.target.value),className:"select-input",children:[e.jsx("option",{value:"all",children:"–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"}),B.map(y=>e.jsxs("option",{value:y.name,children:[y.icon," ",y.name]},y.id))]})}),b.length===0?e.jsx("div",{className:"card glass",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üìã"}),e.jsx("h3",{className:"empty-state-title",children:"–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"}),e.jsx("p",{className:"empty-state-description",children:o==="all"?"–ù–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å—ã":`–ù–µ—Ç ${o==="expense"?"—Ä–∞—Å—Ö–æ–¥–æ–≤":"–¥–æ—Ö–æ–¥–æ–≤"} –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥`})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"transactions-count",children:["–ù–∞–π–¥–µ–Ω–æ: ",w.length," ",w.length===1?"—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è":w.length<5?"—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏":"—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"]}),b.map((y,_)=>e.jsxs("div",{className:"transaction-group animate-slide-in",style:{"--index":_},children:[e.jsxs("div",{className:"group-header",children:[e.jsx("span",{className:"group-date",children:y.label}),e.jsxs("span",{className:`group-total ${y.total>=0?"income":"expense"}`,children:[y.total>=0?"+":"",Math.round(y.total).toLocaleString("ru-RU")," ‚ÇΩ"]})]}),e.jsx("div",{className:"card glass",children:e.jsx("div",{className:"transactions-list",children:y.transactions.map((F,q)=>e.jsx(ze,{tx:F,showUser:!0,index:q,onDelete:()=>i(F.id),onEdit:()=>r(F)},F.id))})})]},y.date))]})]})}),Ee={–ø—Ä–æ–¥—É–∫—Ç—ã:["–º–∞–≥–Ω–∏—Ç","–ø—è—Ç—ë—Ä–æ—á–∫–∞","–ø—è—Ç–µ—Ä–æ—á–∫–∞","–ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–æ–∫","–ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫","–∞—à–∞–Ω","–ª–µ–Ω—Ç–∞","–¥–∏–∫—Å–∏","–≤–∫—É—Å–≤–∏–ª–ª","–∞–∑–±—É–∫–∞ –≤–∫—É—Å–∞","metro","–æ–∫–µ–π","–∫–∞—Ä—É—Å–µ–ª—å","—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç","–ø—Ä–æ–¥—É–∫—Ç—ã","–≥–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç","spar","–±–∏–ª–ª–∞","billa","fixprice","—Ñ–∏–∫—Å–ø—Ä–∞–π—Å"],—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç:["—è–Ω–¥–µ–∫—Å —Ç–∞–∫—Å–∏","uber","gett","—Å–∏—Ç–∏–º–æ–±–∏–ª","—Ç–∞–∫—Å–∏","–º–µ—Ç—Ä–æ","–±–µ–Ω–∑–∏–Ω","–∞–∑—Å","–ª—É–∫–æ–π–ª","–≥–∞–∑–ø—Ä–æ–º","—Ä–æ—Å–Ω–µ—Ñ—Ç—å","shell","bp","–ø–∞—Ä–∫–æ–≤–∫–∞","–º–æ–π–∫–∞","–∞–≤—Ç–æ–º–æ–π–∫–∞","—à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂","–∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å","—Ä–∂–¥","–∞—ç—Ä–æ—Ñ–ª–æ—Ç","s7","–ø–æ–±–µ–¥–∞","–±–∏–ª–µ—Ç","–∫–∞—Ä—à–µ—Ä–∏–Ω–≥","—è–Ω–¥–µ–∫—Å –¥—Ä–∞–π–≤","–¥–µ–ª–∏–º–æ–±–∏–ª—å","belka","—Ç—Ä–∞–Ω—Å–ø"],—Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã:["–∫–∞—Ñ–µ","—Ä–µ—Å—Ç–æ—Ä–∞–Ω","–±–∞—Ä","–ø–∏—Ü—Ü–µ—Ä–∏—è","—Å—É—à–∏","–±—É—Ä–≥–µ—Ä","–º–∞–∫–¥–æ–Ω–∞–ª–¥—Å","mcdonalds","kfc","–±—É—Ä–≥–µ—Ä –∫–∏–Ω–≥","burger king","subway","pizza","–ø–∏—Ü—Ü–∞","coffee","–∫–æ—Ñ–µ","starbucks","—è–∫–∏—Ç–æ—Ä–∏—è","—Ç–∞–Ω—É–∫–∏","delivery club","—è–Ω–¥–µ–∫—Å –µ–¥–∞","—Å–∞–º–æ–∫–∞—Ç","—Å–±–µ—Ä–º–∞—Ä–∫–µ—Ç","–¥–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã"],—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è:["–∫–∏–Ω–æ","cinema","—Ç–µ–∞—Ç—Ä","–∫–æ–Ω—Ü–µ—Ä—Ç","–º—É–∑–µ–π","–≤—ã—Å—Ç–∞–≤–∫–∞","netflix","spotify","youtube","apple music","–ø–æ–¥–ø–∏—Å–∫–∞","steam","playstation","xbox","–∏–≥—Ä–∞","game","–∫–∏–Ω–æ–ø–æ–∏—Å–∫","–∏–≤–∏","okko","premier","more.tv","–±–∏–ª–µ—Ç"],–æ–¥–µ–∂–¥–∞:["zara","h&m","hm","uniqlo","reserved","massimo dutti","bershka","pull&bear","mango","–æ–¥–µ–∂–¥–∞","–æ–±—É–≤—å","adidas","nike","puma","reebok","—Å–ø–æ—Ä—Ç–º–∞—Å—Ç–µ—Ä","–¥–µ–∫–∞—Ç–ª–æ–Ω","rendez-vous","ecco","kari","respect","wildberries","lamoda","wb"],–∑–¥–æ—Ä–æ–≤—å–µ:["–∞–ø—Ç–µ–∫–∞","pharmacy","–ª–µ–∫–∞—Ä—Å—Ç–≤–æ","–≤–∏—Ç–∞–º–∏–Ω—ã","–∫–ª–∏–Ω–∏–∫–∞","–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞","–≤—Ä–∞—á","–¥–æ–∫—Ç–æ—Ä","–∞–Ω–∞–ª–∏–∑—ã","—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥","–≥–æ—Å—Ä—Ç–æ–ª–æ–≥","–æ–∫—É–ª–∏—Å—Ç","–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π","–∑–¥–æ—Ä–æ–≤—å–µ","–º–µ–¥—Å–∏","–∏–Ω–≤–∏—Ç—Ä–æ","–≥–µ–º–æ—Ç–µ—Å—Ç","–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è"],–∫–æ–º–º—É–Ω–∞–ª–∫–∞:["–∂–∫—Ö","–∫–≤–∞—Ä—Ç–ø–ª–∞—Ç–∞","—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ","–≥–∞–∑","–≤–æ–¥–∞","–æ—Ç–æ–ø–ª–µ–Ω–∏–µ","–∏–Ω—Ç–µ—Ä–Ω–µ—Ç","—Ç–µ–ª–µ—Ñ–æ–Ω","–º–æ–±–∏–ª—å–Ω–∞—è —Å–≤—è–∑—å","–º—Ç—Å","–±–∏–ª–∞–π–Ω","–º–µ–≥–∞—Ñ–æ–Ω","—Ç–µ–ª–µ2","tele2","—Ä–æ—Å—Ç–µ–ª–µ–∫–æ–º","–∞—Ä–µ–Ω–¥–∞","rent"],–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:["–∫—É—Ä—Å","–æ–±—É—á–µ–Ω–∏–µ","—à–∫–æ–ª–∞","—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç","–∫–Ω–∏–≥–∞","—É—á–µ–±–Ω–∏–∫","skillbox","geekbrains","–Ω–µ—Ç–æ–ª–æ–≥–∏—è","coursera","udemy","–ª–∏—Ç—Ä–µ—Å","–∫–Ω–∏–∂–Ω—ã–π","–±–∏–±–ª–∏–æ—Ç–µ–∫–∞"],–∫—Ä–∞—Å–æ—Ç–∞:["—Å–∞–ª–æ–Ω","–ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–∞—è","–±–∞—Ä–±–µ—Ä—à–æ–ø","–º–∞–Ω–∏–∫—é—Ä","–ø–µ–¥–∏–∫—é—Ä","spa","—Å–ø–∞","–º–∞—Å—Å–∞–∂","–∫–æ—Å–º–µ—Ç–∏–∫–∞","–ª'—ç—Ç—É–∞–ª—å","letual","—Ä–∏–≤ –≥–æ—à","–∏–ª—å –¥–µ –±–æ—Ç—ç","–∑–æ–ª–æ—Ç–æ–µ —è–±–ª–æ–∫–æ","sephora"],–∑–∞—Ä–ø–ª–∞—Ç–∞:["–∑–∞—Ä–ø–ª–∞—Ç–∞","–∑–ø","–∞–≤–∞–Ω—Å","–æ–∫–ª–∞–¥","–ø—Ä–µ–º–∏—è","–±–æ–Ω—É—Å","salary"],—Ñ—Ä–∏–ª–∞–Ω—Å:["—Ñ—Ä–∏–ª–∞–Ω—Å","freelance","–ø—Ä–æ–µ–∫—Ç","–∑–∞–∫–∞–∑","–∫–æ–Ω—Ç—Ä–∞–∫—Ç","–≥–æ–Ω–æ—Ä–∞—Ä"],–∫—ç—à–±—ç–∫:["–∫—ç—à–±—ç–∫","cashback","–≤–æ–∑–≤—Ä–∞—Ç","refund","–±–æ–Ω—É—Å—ã"]};function Se(t,n,a=[],s=[]){if(!t||t.trim().length===0)return null;const i=J(t),r=[];for(const m of s.sort((u,f)=>f.priority-u.priority))if(Yt(i,m.pattern)){const u=n.find(f=>f.id===m.category_id);if(u){r.push({categoryId:u.id,categoryName:u.name,confidence:.95,matchedKeyword:m.pattern,matchType:"pattern"});break}}for(const m of n){const u=m.keywords||[];for(const f of u)if(i.includes(J(f))){r.push({categoryId:m.id,categoryName:m.name,confidence:.85,matchedKeyword:f,matchType:"keyword"});break}}for(const[m,u]of Object.entries(Ee))for(const f of u)if(i.includes(J(f))){const d=n.find(g=>J(g.name)===J(m));d&&!r.find(g=>g.categoryId===d.id)&&r.push({categoryId:d.id,categoryName:d.name,confidence:.75,matchedKeyword:f,matchType:"keyword"});break}const o=Gt(i,a,n);if(o&&r.push(o),r.length===0){const m=Ht(i,n);m&&r.push(m)}if(r.length===0)return null;r.sort((m,u)=>u.confidence-m.confidence);const c=r[0],l=r[1];return{category_id:c.categoryId,category_name:c.categoryName,confidence:c.confidence,alternative:l?{category_id:l.categoryId,category_name:l.categoryName,confidence:l.confidence}:void 0}}function Ut(t,n,a=[],s=[]){const i=new Map;for(const r of t){const o=Se(r.description,n,a,s);o&&i.set(r.id,o)}return i}function Gt(t,n,a){const s={};for(const l of n){if(!l.description||!l.category_id)continue;const m=J(l.description);Kt(t,m)&&(s[m]||(s[m]={}),s[m][l.category_id]=(s[m][l.category_id]||0)+1)}let i=null,r=0;for(const l of Object.values(s))for(const[m,u]of Object.entries(l))r+=u,(!i||u>i.count)&&(i={categoryId:m,count:u});if(!i||i.count<2)return null;const o=a.find(l=>l.id===i.categoryId);if(!o)return null;const c=Math.min(.9,.5+i.count/r*.4);return{categoryId:o.id,categoryName:o.name,confidence:c,matchType:"history"}}function Wt(t){const n={};for(const a of t){if(!a.description||!a.category_id)continue;const i=J(a.description).split(/\s+/).filter(r=>r.length>2);for(let r=0;r<i.length;r++){const o=i[r];if(o.length>=4&&(n[o]||(n[o]={categoryId:a.category_id,count:0}),n[o].categoryId===a.category_id&&n[o].count++),r<i.length-1){const c=`${i[r]} ${i[r+1]}`;n[c]||(n[c]={categoryId:a.category_id,count:0}),n[c].categoryId===a.category_id&&n[c].count++}}}return Object.entries(n).filter(([a,s])=>s.count>=3).map(([a,s])=>({description:a,categoryId:s.categoryId,count:s.count})).sort((a,s)=>s.count-a.count)}function Ht(t,n){let a=null;for(const s of n){const i=Oe(t,J(s.name));i>.6&&(!a||i>a.score)&&(a={category:s,score:i})}return a?{categoryId:a.category.id,categoryName:a.category.name,confidence:a.score*.6,matchType:"fuzzy"}:null}function J(t){return t.toLowerCase().replace(/[—ë]/g,"–µ").replace(/[^a-z–∞-—è0-9\s]/g," ").replace(/\s+/g," ").trim()}function Yt(t,n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\?/g,".");try{return new RegExp(a,"i").test(t)}catch{return t.includes(n)}}function Kt(t,n,a=.7){return t.includes(n)||n.includes(t)?!0:Oe(t,n)>=a}function Oe(t,n){if(t===n)return 1;if(t.length===0||n.length===0)return 0;const a=new Set,s=new Set;for(let r=0;r<t.length-1;r++)a.add(t.substring(r,r+2));for(let r=0;r<n.length-1;r++)s.add(n.substring(r,r+2));let i=0;for(const r of a)s.has(r)&&i++;return 2*i/(a.size+s.size)}function Qt(t,n,a,s=0){return{family_id:t,category_id:n,pattern:J(a),priority:s,match_count:0}}function Jt(t,n){const a=[],s={};for(const i of t){if(!i.description)continue;const c=J(i.description).split(/\s+/).filter(l=>l.length>3).slice(0,2).join(" ");c&&(s[c]||(s[c]=[]),s[c].push(i))}for(const[i,r]of Object.entries(s)){if(r.length<2)continue;const o=Se(i,n);if(o&&o.confidence>.5){const c=n.find(l=>l.id===o.category_id);c&&a.push({pattern:i,suggestedCategory:c,confidence:o.confidence})}}return a.sort((i,r)=>r.confidence-i.confidence)}const Xt={predictCategory:Se,batchCategorize:Ut,extractLearningPatterns:Wt,createRule:Qt,suggestRules:Jt,DEFAULT_KEYWORDS:Ee};function Zt({users:t,categories:n,transactions:a,editingTransaction:s,onSubmit:i,onClose:r}){const{templates:o,saveTemplate:c,applyTemplate:l}=Ae(),m=!!s,[u,f]=h.useState(s?.user_id||t[0]?.id||""),[d,g]=h.useState(s?.type||"expense"),[p,j]=h.useState(s?.amount?.toString()||""),[w,b]=h.useState(s?.category||""),[B,y]=h.useState(s?.description||""),[_,F]=h.useState(s?.is_shared||!1),[q,$]=h.useState(s?.is_credit||!1),[I,x]=h.useState(s?.date||new Date().toISOString().split("T")[0]),[k,N]=h.useState(null),[z,T]=h.useState(0),[E,Y]=h.useState(!1),[U,ae]=h.useState(""),[te,re]=h.useState(!1),Q=n.filter(C=>C.type===d);h.useEffect(()=>{if(B.trim().length>3)try{const C=n.map(Z=>Re(Z)),W=a.map(Z=>$e(Z)),H=Xt.predictCategory(B,C,W);H&&H.confidence>.5?(N(H.category_name),T(H.confidence),H.confidence>.7&&!w&&b(H.category_name)):(N(null),T(0))}catch(C){console.error("Auto-categorization error:",C)}else N(null),T(0)},[B,n,a,w]);const ce=C=>{if(C.preventDefault(),!p||parseFloat(p)<=0){alert("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É");return}i({user_id:u,type:d,amount:parseFloat(p),category:w||Q[0]?.name||"–î—Ä—É–≥–æ–µ",description:B||void 0,date:I,is_shared:_,is_credit:q})},X=C=>{const W=l(C);W&&(f(W.user_id),g(W.type),j(W.amount.toString()),b(W.category),y(W.description||""),F(W.is_shared),$(W.is_credit),Y(!1))},oe=()=>{U.trim()&&(c({name:U,user_id:u,type:d,amount:parseFloat(p)||0,category:w,description:B,is_shared:_,is_credit:q}),ae(""),re(!1))};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal glass",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:m?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é":"–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è"}),e.jsx("button",{className:"modal-close",onClick:r,children:"‚úï"})]}),!m&&o.length>0&&e.jsxs("div",{className:"templates-section",children:[e.jsxs("button",{type:"button",className:"templates-toggle",onClick:()=>Y(!E),children:["‚ö° –ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã (",o.length,")"]}),E&&e.jsx("div",{className:"templates-list",children:o.map(C=>e.jsxs("button",{type:"button",className:"template-item",onClick:()=>X(C.id),children:[e.jsx("span",{className:"template-icon",children:C.type==="income"?"üí∞":"üí∏"}),e.jsx("span",{className:"template-name",children:C.name}),e.jsxs("span",{className:"template-amount",children:[C.amount," ‚ÇΩ"]})]},C.id))})]}),e.jsxs("form",{onSubmit:ce,className:"add-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö—Ç–æ"}),e.jsx("div",{className:"user-select",children:t.map(C=>e.jsxs("button",{type:"button",className:`user-select-btn ${u===C.id?"active":""}`,onClick:()=>f(C.id),style:{"--user-color":C.color},children:[e.jsx("span",{className:"user-avatar",style:{background:C.color},children:C.name[0]}),C.name]},C.id))})]}),e.jsxs("div",{className:"type-toggle",children:[e.jsx("button",{type:"button",className:`type-btn ${d==="expense"?"active expense":""}`,onClick:()=>g("expense"),children:"–†–∞—Å—Ö–æ–¥"}),e.jsx("button",{type:"button",className:`type-btn ${d==="income"?"active income":""}`,onClick:()=>g("income"),children:"–î–æ—Ö–æ–¥"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–°—É–º–º–∞ *"}),e.jsx("input",{type:"number",value:p,onChange:C=>j(C.target.value),placeholder:"0",className:"amount-input",autoFocus:!m})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["–ö–∞—Ç–µ–≥–æ—Ä–∏—è",k&&e.jsxs("span",{className:"prediction-hint",children:["(–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ: ",k," ",Math.round(z*100),"%)"]})]}),e.jsxs("select",{value:w,onChange:C=>b(C.target.value),className:"select-input",style:k&&!w?{borderColor:"var(--accent)"}:void 0,children:[e.jsx("option",{value:"",children:"–í—ã–±–µ—Ä–∏—Ç–µ..."}),Q.map(C=>e.jsxs("option",{value:C.name,children:[C.icon," ",C.name,k===C.name&&` (${Math.round(z*100)}%)`]},C.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"}),e.jsx("input",{type:"text",value:B,onChange:C=>y(C.target.value),placeholder:"–û–ø–∏—Å–∞–Ω–∏–µ...",className:"text-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–î–∞—Ç–∞"}),e.jsx("input",{type:"date",value:I,onChange:C=>x(C.target.value),className:"date-input"})]}),d==="expense"&&e.jsxs("div",{className:"flags-row",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:C=>F(C.target.checked)}),e.jsx("span",{children:"üë• –û–±—â–∏–π"})]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:C=>$(C.target.checked)}),e.jsx("span",{children:"üí≥ –ö—Ä–µ–¥–∏—Ç"})]})]}),!m&&e.jsx("div",{className:"save-template-section",children:te?e.jsxs("div",{className:"save-template-form",children:[e.jsx("input",{type:"text",value:U,onChange:C=>ae(C.target.value),placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞...",className:"text-input"}),e.jsx("button",{type:"button",onClick:oe,className:"save-btn",children:"‚úì"}),e.jsx("button",{type:"button",onClick:()=>re(!1),className:"cancel-btn",children:"‚úï"})]}):e.jsx("button",{type:"button",className:"save-template-toggle",onClick:()=>re(!0),children:"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —à–∞–±–ª–æ–Ω"})}),e.jsx("button",{type:"submit",className:"submit-btn animate-pulse-once",children:m?"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è":d==="expense"?"‚ûñ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥":"‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥"})]})]})})}function Vt({budget:t,categories:n,onSave:a,onCancel:s}){const[i,r]=h.useState(t?.name||""),[o,c]=h.useState(t?.category||""),[l,m]=h.useState(t?.amount.toString()||""),[u,f]=h.useState(t?.period||"monthly"),[d,g]=h.useState(t?.alert_threshold.toString()||"80"),[p,j]=h.useState(t?.start_date||new Date().toISOString().split("T")[0]),[w,b]=h.useState(t?.end_date||""),B=n.filter(_=>_.type==="expense"),y=_=>{if(_.preventDefault(),!i.trim()){A("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞","error");return}if(!l||parseFloat(l)<=0){A("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É","error");return}a({name:i.trim(),category:o||void 0,amount:parseFloat(l),period:u,alert_threshold:parseInt(d),start_date:p,end_date:w||void 0,is_active:!0})};return e.jsxs("form",{onSubmit:y,className:"budget-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ù–∞–∑–≤–∞–Ω–∏–µ *"}),e.jsx("input",{type:"text",value:i,onChange:_=>r(_.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ë—é–¥–∂–µ—Ç –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã",className:"text-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"}),e.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"select-input",children:[e.jsx("option",{value:"",children:"–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"}),B.map(_=>e.jsxs("option",{value:_.name,children:[_.icon," ",_.name]},_.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–°—É–º–º–∞ *"}),e.jsx("input",{type:"number",value:l,onChange:_=>m(_.target.value),placeholder:"0",className:"text-input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ü–µ—Ä–∏–æ–¥ *"}),e.jsxs("select",{value:u,onChange:_=>f(_.target.value),className:"select-input",children:[e.jsx("option",{value:"weekly",children:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ"}),e.jsx("option",{value:"monthly",children:"–ï–∂–µ–º–µ—Å—è—á–Ω–æ"}),e.jsx("option",{value:"yearly",children:"–ï–∂–µ–≥–æ–¥–Ω–æ"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ü–æ—Ä–æ–≥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (%)"}),e.jsx("input",{type:"number",value:d,onChange:_=>g(_.target.value),className:"text-input",min:"1",max:"100"}),e.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:["–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ ",d,"% –±—é–¥–∂–µ—Ç–∞"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ *"}),e.jsx("input",{type:"date",value:p,onChange:_=>j(_.target.value),className:"date-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"}),e.jsx("input",{type:"date",value:w,onChange:_=>b(_.target.value),className:"date-input"})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[e.jsx("button",{type:"button",onClick:s,className:"cancel-btn",style:{flex:1},children:"–û—Ç–º–µ–Ω–∞"}),e.jsx("button",{type:"submit",className:"submit-btn",style:{flex:1},children:t?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":"–°–æ–∑–¥–∞—Ç—å"})]})]})}const en=["üéØ","üèñÔ∏è","üöó","üè†","üíª","üì±","üéì","üíç","üéÅ","‚úàÔ∏è","üí∞","üéÆ","üìö","üèãÔ∏è","üé®"];function tn({goal:t,onSave:n,onCancel:a}){const[s,i]=h.useState(t?.name||""),[r,o]=h.useState(t?.icon||"üéØ"),[c,l]=h.useState(t?.target_amount.toString()||""),[m,u]=h.useState(t?.current_amount.toString()||"0"),[f,d]=h.useState(t?.deadline||""),g=p=>{if(p.preventDefault(),!s.trim()){A("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏","error");return}if(!c||parseFloat(c)<=0){A("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–ª–µ–≤—É—é —Å—É–º–º—É","error");return}if(parseFloat(m)<0){A("–¢–µ–∫—É—â–∞—è —Å—É–º–º–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π","error");return}n({name:s.trim(),icon:r,target_amount:parseFloat(c),current_amount:parseFloat(m)||0,deadline:f||void 0,is_completed:!1})};return e.jsxs("form",{onSubmit:g,className:"goal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ *"}),e.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –û—Ç–ø—É—Å–∫ –Ω–∞ –º–æ—Ä–µ",className:"text-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ò–∫–æ–Ω–∫–∞"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"8px"},children:en.map(p=>e.jsx("button",{type:"button",onClick:()=>o(p),style:{fontSize:"24px",width:"48px",height:"48px",border:r===p?"2px solid var(--accent)":"1px solid var(--bg-tertiary)",borderRadius:"8px",background:r===p?"rgba(0, 122, 255, 0.1)":"var(--bg-primary)",cursor:"pointer"},children:p},p))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞ *"}),e.jsx("input",{type:"number",value:c,onChange:p=>l(p.target.value),placeholder:"0",className:"text-input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–¢–µ–∫—É—â–∞—è —Å—É–º–º–∞"}),e.jsx("input",{type:"number",value:m,onChange:p=>u(p.target.value),placeholder:"0",className:"text-input",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–î–µ–¥–ª–∞–π–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"}),e.jsx("input",{type:"date",value:f,onChange:p=>d(p.target.value),className:"date-input"})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[e.jsx("button",{type:"button",onClick:a,className:"cancel-btn",style:{flex:1},children:"–û—Ç–º–µ–Ω–∞"}),e.jsx("button",{type:"submit",className:"submit-btn",style:{flex:1},children:t?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":"–°–æ–∑–¥–∞—Ç—å"})]})]})}function nn({goalId:t,goalName:n,users:a,onSave:s,onCancel:i}){const[r,o]=h.useState(a[0]?.id||""),[c,l]=h.useState(""),[m,u]=h.useState(""),f=d=>{if(d.preventDefault(),!c||parseFloat(c)<=0){A("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É","error");return}s(t,r,parseFloat(c),m||void 0)};return e.jsxs("form",{onSubmit:f,className:"contribution-form",children:[e.jsx("div",{style:{marginBottom:"16px"},children:e.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"4px"},children:["–í–∑–Ω–æ—Å –≤ —Ü–µ–ª—å: ",n]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö—Ç–æ –≤–Ω–æ—Å–∏—Ç *"}),e.jsx("div",{className:"user-select",children:a.map(d=>e.jsxs("button",{type:"button",className:`user-select-btn ${r===d.id?"active":""}`,onClick:()=>o(d.id),style:{"--user-color":d.color},children:[e.jsx("span",{className:"user-avatar",style:{background:d.color},children:d.name[0]}),d.name]},d.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–°—É–º–º–∞ –≤–∑–Ω–æ—Å–∞ *"}),e.jsx("input",{type:"number",value:c,onChange:d=>l(d.target.value),placeholder:"0",className:"amount-input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"}),e.jsx("input",{type:"text",value:m,onChange:d=>u(d.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —è–Ω–≤–∞—Ä—å",className:"text-input"})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[e.jsx("button",{type:"button",onClick:i,className:"cancel-btn",style:{flex:1},children:"–û—Ç–º–µ–Ω–∞"}),e.jsx("button",{type:"submit",className:"submit-btn",style:{flex:1},children:"–î–æ–±–∞–≤–∏—Ç—å –≤–∑–Ω–æ—Å"})]})]})}function sn({payment:t,users:n,categories:a,onSave:s,onCancel:i}){const[r,o]=h.useState(t?.user_id||n[0]?.id||""),[c,l]=h.useState(t?.name||""),[m,u]=h.useState(t?.type||"expense"),[f,d]=h.useState(t?.amount.toString()||""),[g,p]=h.useState(t?.category||""),[j,w]=h.useState(t?.frequency||"monthly"),[b,B]=h.useState(t?.day_of_month?.toString()||""),[y,_]=h.useState(t?.day_of_week?.toString()||""),[F,q]=h.useState(t?.next_date||new Date().toISOString().split("T")[0]),[$,I]=h.useState(t?.is_shared||!1),x=a.filter(N=>N.type===m);h.useEffect(()=>{if(!t){const N=new Date;let z=new Date;j==="daily"?z.setDate(N.getDate()+1):j==="weekly"?z.setDate(N.getDate()+7):j==="biweekly"?z.setDate(N.getDate()+14):j==="monthly"?b?(z.setDate(parseInt(b)),z<N&&z.setMonth(z.getMonth()+1)):z.setMonth(N.getMonth()+1):j==="yearly"&&z.setFullYear(N.getFullYear()+1),q(z.toISOString().split("T")[0])}},[j,b,t]);const k=N=>{if(N.preventDefault(),!c.trim()){A("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞","error");return}if(!f||parseFloat(f)<=0){A("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É","error");return}s({user_id:r,name:c.trim(),type:m,amount:parseFloat(f),category:g||void 0,frequency:j,day_of_month:b?parseInt(b):void 0,day_of_week:y?parseInt(y):void 0,next_date:F,last_processed:t?.last_processed,is_shared:$,is_active:!0})};return e.jsxs("form",{onSubmit:k,className:"recurring-payment-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ù–∞–∑–≤–∞–Ω–∏–µ *"}),e.jsx("input",{type:"text",value:c,onChange:N=>l(N.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ê—Ä–µ–Ω–¥–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã",className:"text-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö—Ç–æ *"}),e.jsx("div",{className:"user-select",children:n.map(N=>e.jsxs("button",{type:"button",className:`user-select-btn ${r===N.id?"active":""}`,onClick:()=>o(N.id),style:{"--user-color":N.color},children:[e.jsx("span",{className:"user-avatar",style:{background:N.color},children:N.name[0]}),N.name]},N.id))})]}),e.jsxs("div",{className:"type-toggle",children:[e.jsx("button",{type:"button",className:`type-btn ${m==="expense"?"active expense":""}`,onClick:()=>u("expense"),children:"–†–∞—Å—Ö–æ–¥"}),e.jsx("button",{type:"button",className:`type-btn ${m==="income"?"active income":""}`,onClick:()=>u("income"),children:"–î–æ—Ö–æ–¥"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–°—É–º–º–∞ *"}),e.jsx("input",{type:"number",value:f,onChange:N=>d(N.target.value),placeholder:"0",className:"text-input",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è"}),e.jsxs("select",{value:g,onChange:N=>p(N.target.value),className:"select-input",children:[e.jsx("option",{value:"",children:"–í—ã–±–µ—Ä–∏—Ç–µ..."}),x.map(N=>e.jsxs("option",{value:N.name,children:[N.icon," ",N.name]},N.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ß–∞—Å—Ç–æ—Ç–∞ *"}),e.jsxs("select",{value:j,onChange:N=>w(N.target.value),className:"select-input",children:[e.jsx("option",{value:"daily",children:"–ï–∂–µ–¥–Ω–µ–≤–Ω–æ"}),e.jsx("option",{value:"weekly",children:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ"}),e.jsx("option",{value:"biweekly",children:"–†–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏"}),e.jsx("option",{value:"monthly",children:"–ï–∂–µ–º–µ—Å—è—á–Ω–æ"}),e.jsx("option",{value:"yearly",children:"–ï–∂–µ–≥–æ–¥–Ω–æ"})]})]}),j==="monthly"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–î–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)"}),e.jsx("input",{type:"number",value:b,onChange:N=>B(N.target.value),className:"text-input",min:"1",max:"31",placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: 5"})]}),j==="weekly"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏"}),e.jsxs("select",{value:y,onChange:N=>_(N.target.value),className:"select-input",children:[e.jsx("option",{value:"",children:"–õ—é–±–æ–π"}),e.jsx("option",{value:"0",children:"–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"}),e.jsx("option",{value:"1",children:"–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"2",children:"–í—Ç–æ—Ä–Ω–∏–∫"}),e.jsx("option",{value:"3",children:"–°—Ä–µ–¥–∞"}),e.jsx("option",{value:"4",children:"–ß–µ—Ç–≤–µ—Ä–≥"}),e.jsx("option",{value:"5",children:"–ü—è—Ç–Ω–∏—Ü–∞"}),e.jsx("option",{value:"6",children:"–°—É–±–±–æ—Ç–∞"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–°–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç—ë–∂ *"}),e.jsx("input",{type:"date",value:F,onChange:N=>q(N.target.value),className:"date-input",required:!0})]}),m==="expense"&&e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:N=>I(N.target.checked)}),e.jsx("span",{children:"üë• –û–±—â–∏–π —Ä–∞—Å—Ö–æ–¥"})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[e.jsx("button",{type:"button",onClick:i,className:"cancel-btn",style:{flex:1},children:"–û—Ç–º–µ–Ω–∞"}),e.jsx("button",{type:"submit",className:"submit-btn",style:{flex:1},children:t?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":"–°–æ–∑–¥–∞—Ç—å"})]})]})}function xe({children:t,onClose:n,title:a}){return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[a&&e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:a}),e.jsx("button",{className:"modal-close",onClick:n,children:"‚úï"})]}),t]})})}function ke({budget:t,onEdit:n,onDelete:a}){const s=t.spent||0,i=t.remaining||t.amount-s,r=t.percentage||s/t.amount*100,o=s>t.amount,c=r>=t.alert_threshold,l=()=>o?"var(--red)":c?"var(--orange)":"var(--green)";return e.jsxs("div",{className:"card budget-card-item",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:[t.category?`${t.category}: `:"",t.name]}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:t.period==="monthly"?"–ï–∂–µ–º–µ—Å—è—á–Ω–æ":t.period==="weekly"?"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ":"–ï–∂–µ–≥–æ–¥–Ω–æ"})]}),(n||a)&&e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n&&e.jsx("button",{onClick:()=>n(t),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:"‚úèÔ∏è"}),a&&e.jsx("button",{onClick:()=>a(t.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:"üóëÔ∏è"})]})]}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",marginBottom:"4px"},children:[e.jsx("span",{children:"–ü–æ—Ç—Ä–∞—á–µ–Ω–æ"}),e.jsxs("span",{style:{fontWeight:"600",color:l()},children:[L(s)," / ",L(t.amount)]})]}),e.jsx("div",{className:"budget-progress-bar",children:e.jsx("div",{className:"budget-progress-fill",style:{width:`${Math.min(r,100)}%`,backgroundColor:l()}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:[e.jsxs("span",{children:[Math.round(r),"%"]}),e.jsx("span",{style:{color:o?"var(--red)":"var(--text-secondary)"},children:o?`–ü—Ä–µ–≤—ã—à–µ–Ω –Ω–∞ ${L(Math.abs(i))}`:`–û—Å—Ç–∞–ª–æ—Å—å ${L(i)}`})]})]}),c&&!o&&e.jsxs("div",{style:{padding:"8px",background:"rgba(255, 149, 0, 0.1)",borderRadius:"8px",fontSize:"12px",color:"var(--orange)"},children:["‚ö†Ô∏è –ë—é–¥–∂–µ—Ç –ø–æ—á—Ç–∏ –∏—Å—á–µ—Ä–ø–∞–Ω (",Math.round(r),"%)"]}),o&&e.jsx("div",{style:{padding:"8px",background:"rgba(255, 59, 48, 0.1)",borderRadius:"8px",fontSize:"12px",color:"var(--red)"},children:"üö® –ë—é–¥–∂–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω!"})]})}function an({budgets:t,categories:n,onAdd:a,onEdit:s,onDelete:i}){const r=t.filter(c=>c.is_active),o=t.filter(c=>!c.is_active);return e.jsx("div",{className:"tab-content",children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üí∞"}),e.jsx("h3",{className:"empty-state-title",children:"–ù–µ—Ç –±—é–¥–∂–µ—Ç–æ–≤"}),e.jsx("p",{className:"empty-state-description",children:"–°–æ–∑–¥–∞–π—Ç–µ –±—é–¥–∂–µ—Ç, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"})]}):e.jsxs(e.Fragment,{children:[r.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:"–ê–∫—Ç–∏–≤–Ω—ã–µ –±—é–¥–∂–µ—Ç—ã"}),e.jsx("div",{className:"budgets-list",children:r.map(c=>e.jsx(ke,{budget:c,onEdit:s,onDelete:i},c.id))})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:"–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –±—é–¥–∂–µ—Ç—ã"}),e.jsx("div",{className:"budgets-list",children:o.map(c=>e.jsx(ke,{budget:c,onEdit:s,onDelete:i},c.id))})]})]})})}function De({goal:t,onEdit:n,onDelete:a,onAddContribution:s}){const i=t.percentage||t.current_amount/t.target_amount*100,r=t.deadline?mt(t.deadline):void 0,o=t.target_amount-t.current_amount,c=t.is_completed||i>=100,l=40,m=2*Math.PI*l,u=m-i/100*m;return e.jsxs("div",{className:"card goal-card-item",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:t.icon}),e.jsx("h4",{style:{fontSize:"16px",fontWeight:"600"},children:t.name})]}),t.deadline&&typeof r=="number"&&e.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:e.jsx("span",{style:{color:r<30?"var(--red)":"var(--text-secondary)"},children:r>0?`–û—Å—Ç–∞–ª–æ—Å—å ${r} –¥–Ω–µ–π`:"–°—Ä–æ–∫ –∏—Å—Ç—ë–∫"})})]}),(n||a)&&e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n&&e.jsx("button",{onClick:()=>n(t),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:"‚úèÔ∏è"}),a&&e.jsx("button",{onClick:()=>a(t.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:"üóëÔ∏è"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"16px"},children:[e.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[e.jsxs("svg",{width:"100",height:"100",style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:"50",cy:"50",r:l,fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:l,fill:"none",stroke:c?"var(--green)":"var(--accent)",strokeWidth:"8",strokeDasharray:m,strokeDashoffset:u,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:e.jsxs("div",{style:{fontSize:"20px",fontWeight:"700",color:c?"var(--green)":"var(--accent)"},children:[Math.round(i),"%"]})})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"4px"},children:"–ù–∞–∫–æ–ø–ª–µ–Ω–æ"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:[L(t.current_amount)," / ",L(t.target_amount)]}),e.jsxs("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:["–û—Å—Ç–∞–ª–æ—Å—å: ",L(o)]})]})]}),c&&e.jsx("div",{style:{padding:"12px",background:"rgba(52, 199, 89, 0.1)",borderRadius:"8px",textAlign:"center",fontSize:"14px",color:"var(--green)",fontWeight:"600"},children:"üéâ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!"}),s&&!c&&e.jsx("button",{onClick:()=>s(t.id),className:"submit-btn",style:{width:"100%",marginTop:"12px"},children:"‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∑–Ω–æ—Å"})]})}function rn({goals:t,users:n,onAdd:a,onEdit:s,onDelete:i,onAddContribution:r}){const o=t.filter(l=>!l.is_completed),c=t.filter(l=>l.is_completed);return e.jsx("div",{className:"tab-content",children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üéØ"}),e.jsx("h3",{className:"empty-state-title",children:"–ù–µ—Ç —Ü–µ–ª–µ–π"}),e.jsx("p",{className:"empty-state-description",children:"–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Ü–µ–ª—å, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å"})]}):e.jsxs(e.Fragment,{children:[o.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:"–ê–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏"}),e.jsx("div",{className:"goals-list",children:o.map(l=>e.jsx(De,{goal:l,onEdit:s,onDelete:i,onAddContribution:r},l.id))})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:"–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏"}),e.jsx("div",{className:"goals-list",children:c.map(l=>e.jsx(De,{goal:l,onEdit:s,onDelete:i},l.id))})]})]})})}function Te({payment:t,onEdit:n,onDelete:a,onToggle:s}){const i=()=>({daily:"–ï–∂–µ–¥–Ω–µ–≤–Ω–æ",weekly:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ",biweekly:"–†–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏",monthly:"–ï–∂–µ–º–µ—Å—è—á–Ω–æ",yearly:"–ï–∂–µ–≥–æ–¥–Ω–æ"})[t.frequency]||t.frequency,r=()=>{const o=new Date,c=new Date(t.next_date),l=Math.ceil((c.getTime()-o.getTime())/(1e3*60*60*24));return l<0?"–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ":l===0?"–°–µ–≥–æ–¥–Ω—è":l===1?"–ó–∞–≤—Ç—Ä–∞":l<=7?`–ß–µ—Ä–µ–∑ ${l} –¥–Ω–µ–π`:Be(t.next_date)};return e.jsxs("div",{className:"card recurring-payment-card",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("h4",{style:{fontSize:"16px",fontWeight:"600"},children:t.name}),t.is_shared&&e.jsx("span",{className:"badge shared",children:"–æ–±—â–∏–π"})]}),e.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[i(),t.category&&` ¬∑ ${t.category}`]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[s&&e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:o=>s(t.id,o.target.checked)}),e.jsx("span",{className:"switch-slider"})]}),n&&e.jsx("button",{onClick:()=>n(t),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:"‚úèÔ∏è"}),a&&e.jsx("button",{onClick:()=>a(t.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:"üóëÔ∏è"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"18px",fontWeight:"600",color:t.type==="income"?"var(--green)":"var(--red)"},children:[t.type==="income"?"+":"-",L(t.amount)]}),e.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:["–°–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç—ë–∂: ",r()]})]}),!t.is_active&&e.jsx("span",{style:{fontSize:"12px",padding:"4px 8px",background:"var(--bg-tertiary)",borderRadius:"4px",color:"var(--text-secondary)"},children:"–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"})]})]})}function cn({payments:t,users:n,categories:a,onAdd:s,onEdit:i,onDelete:r,onToggle:o}){const c=t.filter(m=>m.is_active).sort((m,u)=>new Date(m.next_date).getTime()-new Date(u.next_date).getTime()),l=t.filter(m=>!m.is_active);return e.jsx("div",{className:"tab-content",children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üîÑ"}),e.jsx("h3",{className:"empty-state-title",children:"–ù–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π"}),e.jsx("p",{className:"empty-state-description",children:"–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–ø–æ–¥–ø–∏—Å–∫–∏, –∞—Ä–µ–Ω–¥–∞, –∑–∞—Ä–ø–ª–∞—Ç–∞), —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Ö"})]}):e.jsxs(e.Fragment,{children:[c.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:"–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏"}),e.jsx("div",{className:"recurring-list",children:c.map(m=>e.jsx(Te,{payment:m,onEdit:i,onDelete:r,onToggle:o},m.id))})]}),l.length>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:"–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏"}),e.jsx("div",{className:"recurring-list",children:l.map(m=>e.jsx(Te,{payment:m,onEdit:i,onDelete:r,onToggle:o},m.id))})]})]})})}Ge.register(We,He,Ye,Ke,Qe,Je,Xe,Ze,Ve,et);const pe={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},padding:12,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:13},cornerRadius:8}},scales:{x:{grid:{display:!1},ticks:{font:{size:11}}},y:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11},callback:function(t){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",notation:"compact",maximumFractionDigits:0}).format(t)}}}}},on={primary:"#007AFF",secondary:"#5856D6",success:"#34C759",danger:"#FF3B30",warning:"#FF9500",info:"#5AC8FA"},ln={primary:"#007AFF",secondary:"#5856D6",success:"#34C759",danger:"#FF3B30",warning:"#FF9500",info:"#5AC8FA"},Le=t=>t?on:ln;function dn({transactions:t,isDark:n=!1}){const a=Le(n),s={};t.filter(c=>c.type==="expense").forEach(c=>{const l=c.date.substring(0,7);s[l]=(s[l]||0)+c.amount});const i=Object.keys(s).sort(),o={labels:i.map(c=>new Date(c+"-01").toLocaleDateString("ru-RU",{month:"short",year:"numeric"})),datasets:[{label:"–†–∞—Å—Ö–æ–¥—ã",data:i.map(c=>s[c]),borderColor:a.danger,backgroundColor:`rgba(255, 59, 48, ${n?"0.2":"0.1"})`,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6}]};return e.jsx("div",{style:{height:"300px",position:"relative"},children:e.jsx(tt,{data:o,options:pe})})}function un({transactions:t,isDark:n=!1}){const a=Le(n),s={};t.forEach(c=>{const l=c.date.substring(0,7);s[l]||(s[l]={income:0,expense:0}),c.type==="income"?s[l].income+=c.amount:s[l].expense+=c.amount});const i=Object.keys(s).sort(),o={labels:i.map(c=>new Date(c+"-01").toLocaleDateString("ru-RU",{month:"short"})),datasets:[{label:"–î–æ—Ö–æ–¥—ã",data:i.map(c=>s[c].income),backgroundColor:a.success,borderRadius:8},{label:"–†–∞—Å—Ö–æ–¥—ã",data:i.map(c=>s[c].expense),backgroundColor:a.danger,borderRadius:8}]};return e.jsx("div",{style:{height:"300px",position:"relative"},children:e.jsx(nt,{data:o,options:pe})})}function mn({transactions:t,categories:n,isDark:a=!1}){const s={};t.filter(l=>l.type==="expense"&&l.category).forEach(l=>{s[l.category]=(s[l.category]||0)+l.amount});const i=Object.entries(s).sort((l,m)=>m[1]-l[1]).slice(0,8),r=i.map(([l])=>n.find(u=>u.name===l)?.color||"#8E8E93"),o={labels:i.map(([l])=>l),datasets:[{data:i.map(([,l])=>l),backgroundColor:r,borderWidth:2,borderColor:a?"#1c1c1e":"#ffffff"}]},c={...pe,plugins:{...pe.plugins,legend:{...pe.plugins.legend,position:"right"}}};return e.jsx("div",{style:{height:"300px",position:"relative"},children:e.jsx(st,{data:o,options:c})})}function hn({transactions:t,categories:n,isDark:a}){return t.length===0?e.jsx("div",{className:"tab-content",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üìä"}),e.jsx("h3",{className:"empty-state-title",children:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"}),e.jsx("p",{className:"empty-state-description",children:"–î–æ–±–∞–≤—å—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É"})]})}):e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[e.jsx("h3",{className:"card-title",children:"üìà –î–∏–Ω–∞–º–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤"}),e.jsx(dn,{transactions:t,isDark:a})]}),e.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[e.jsx("h3",{className:"card-title",children:"üìä –î–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã"}),e.jsx(un,{transactions:t,isDark:a})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"card-title",children:"ü•ß –†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"}),e.jsx(mn,{transactions:t,categories:n,isDark:a})]})]})}function ne({width:t,height:n,className:a="",style:s}){return e.jsx("div",{className:`skeleton ${a}`,style:{width:t,height:n,...s}})}function Me(){return e.jsxs("div",{className:"card",children:[e.jsx(ne,{height:20,width:"60%",style:{marginBottom:"12px"}}),e.jsx(ne,{height:16,width:"100%",style:{marginBottom:"8px"}}),e.jsx(ne,{height:16,width:"80%"})]})}function pn(){return e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"card balance-card",style:{opacity:.7},children:[e.jsx(ne,{height:14,width:"40%",style:{marginBottom:"8px",background:"rgba(255,255,255,0.3)"}}),e.jsx(ne,{height:36,width:"60%",style:{marginBottom:"16px",background:"rgba(255,255,255,0.3)"}}),e.jsxs("div",{style:{display:"flex",gap:"24px"},children:[e.jsx(ne,{height:32,width:80,style:{background:"rgba(255,255,255,0.3)"}}),e.jsx(ne,{height:32,width:80,style:{background:"rgba(255,255,255,0.3)"}})]})]}),e.jsx(Me,{}),e.jsx(Me,{})]})}function gn({onRefresh:t,threshold:n=80,resistance:a=2.5}){const[s,i]=h.useState(0),[r,o]=h.useState(!1),[c,l]=h.useState(!1),m=h.useRef(0),u=h.useRef(null),f=h.useCallback(p=>{const j=u.current;!j||j.scrollTop>0||(m.current=p.touches[0].clientY,l(!0))},[]),d=h.useCallback(p=>{if(!c||r)return;const j=u.current;if(!j||j.scrollTop>0){i(0);return}const b=p.touches[0].clientY-m.current;b>0&&(p.preventDefault(),i(Math.min(b/a,n*1.5)))},[c,r,a,n]),g=h.useCallback(async()=>{if(c)if(l(!1),s>=n&&!r){o(!0),i(n);try{await t()}finally{o(!1),i(0)}}else i(0)},[c,s,n,r,t]);return h.useEffect(()=>{const p=u.current;if(p)return p.addEventListener("touchstart",f,{passive:!0}),p.addEventListener("touchmove",d,{passive:!1}),p.addEventListener("touchend",g,{passive:!0}),()=>{p.removeEventListener("touchstart",f),p.removeEventListener("touchmove",d),p.removeEventListener("touchend",g)}},[f,d,g]),{containerRef:u,pullDistance:s,isRefreshing:r,isPulling:c,isTriggered:s>=n}}function xn({onRefresh:t,children:n}){const{containerRef:a,pullDistance:s,isRefreshing:i,isTriggered:r}=gn({onRefresh:t,threshold:80});return e.jsxs("div",{ref:a,className:"pull-to-refresh-container",children:[e.jsxs("div",{className:"pull-indicator",style:{transform:`translateY(${Math.min(s-60,20)}px)`,opacity:s>20?1:0},children:[e.jsx("div",{className:`pull-spinner ${i?"spinning":""} ${r?"triggered":""}`,children:i?"üîÑ":"‚Üì"}),e.jsx("span",{className:"pull-text",children:i?"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...":r?"–û—Ç–ø—É—Å—Ç–∏—Ç–µ":"–ü–æ—Ç—è–Ω–∏—Ç–µ –≤–Ω–∏–∑"})]}),e.jsx("div",{className:"pull-content",style:{transform:`translateY(${s}px)`,transition:s===0?"transform 0.3s ease":"none"},children:n})]})}function fn(){const{users:t,transactions:n,categories:a,budgets:s,goals:i,recurringPayments:r,loading:o,theme:c,setTheme:l,isSetup:m,handleSetupComplete:u,addTransaction:f,updateTransaction:d,deleteTransaction:g,saveBudget:p,deleteBudget:j,saveGoal:w,deleteGoal:b,addContribution:B,saveRecurring:y,deleteRecurring:_,toggleRecurring:F,refreshData:q,updateUser:$,setUsers:I}=Ae(),[x,k]=h.useState("dashboard"),[N,z]=h.useState(!1),[T,E]=h.useState(!1),[Y,U]=h.useState(!1),[ae,te]=h.useState(!1),[re,Q]=h.useState(!1),[ce,X]=h.useState(null),[oe,C]=h.useState(null),[W,H]=h.useState(null),[Z,v]=h.useState(null),[S,D]=h.useState(null),[R,K]=h.useState("budgets"),V=ut(n,t);h.useEffect(()=>{document.documentElement.classList.toggle("dark",c==="dark")},[c]);const le=async O=>{await f(O),z(!1),v(null)},de=async(O,je)=>{await d(O,je),z(!1),v(null)},G=async O=>{await p(O,ce?.id),E(!1),X(null)},ee=async O=>{await w(O,oe?.id),U(!1),C(null)},ye=async(O,je,qe,Ue)=>{await B(O,je,qe,Ue),te(!1),D(null)},Pe=async O=>{await y(O,W?.id),Q(!1),H(null)};return o?e.jsxs("div",{className:"app",children:[e.jsx("header",{className:"header",children:e.jsx("h1",{className:"header-title",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})}),e.jsx("main",{className:"content",children:e.jsx(pn,{})})]}):m?e.jsxs("div",{className:"app",children:[e.jsx("header",{className:"header glass",children:e.jsxs("h1",{className:"header-title",children:[x==="dashboard"&&"–û–±–∑–æ—Ä",x==="history"&&"–ò—Å—Ç–æ—Ä–∏—è",x==="finance"&&(R==="budgets"?"–ë—é–¥–∂–µ—Ç—ã":R==="goals"?"–¶–µ–ª–∏":"–ü–ª–∞—Ç–µ–∂–∏"),x==="analytics"&&"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞",x==="settings"&&"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"]})}),e.jsx("main",{className:"content",children:e.jsxs(xn,{onRefresh:q,children:[x==="dashboard"&&e.jsx(Lt,{stats:V,users:t,transactions:n,categories:a,budgets:s,goals:i}),x==="history"&&e.jsx(qt,{transactions:n,users:t,categories:a,onDelete:g,onEdit:O=>{v(O),z(!0)}}),x==="finance"&&e.jsx(vn,{subTab:R,setSubTab:K,budgets:s,goals:i,recurringPayments:r,users:t,categories:a,onAddBudget:()=>{X(null),E(!0)},onEditBudget:O=>{X(O),E(!0)},onDeleteBudget:j,onAddGoal:()=>{C(null),U(!0)},onEditGoal:O=>{C(O),U(!0)},onDeleteGoal:b,onAddContribution:O=>{D(O),te(!0)},onAddRecurring:()=>{H(null),Q(!0)},onEditRecurring:O=>{H(O),Q(!0)},onDeleteRecurring:_,onToggleRecurring:F}),x==="analytics"&&e.jsx(hn,{transactions:n,categories:a,isDark:c==="dark"}),x==="settings"&&e.jsx(bn,{theme:c,setTheme:l,users:t,setUsers:I,updateUser:$})]})}),x==="dashboard"||x==="history"?e.jsx("button",{className:"fab animate-scale-in",onClick:()=>{v(null),z(!0)},children:e.jsx("span",{children:"+"})}):x==="finance"?e.jsx("button",{className:"fab animate-scale-in",onClick:()=>{R==="budgets"?(X(null),E(!0)):R==="goals"?(C(null),U(!0)):(H(null),Q(!0))},children:e.jsx("span",{children:"+"})}):null,N&&e.jsx(Zt,{users:t,categories:a,transactions:n,editingTransaction:Z,onSubmit:Z?O=>de(Z.id,O):le,onClose:()=>{z(!1),v(null)}}),T&&e.jsx(xe,{onClose:()=>{E(!1),X(null)},children:e.jsx(Vt,{budget:ce||void 0,categories:a,onSave:G,onCancel:()=>{E(!1),X(null)}})}),Y&&e.jsx(xe,{onClose:()=>{U(!1),C(null)},children:e.jsx(tn,{goal:oe||void 0,onSave:ee,onCancel:()=>{U(!1),C(null)}})}),ae&&S&&e.jsx(xe,{onClose:()=>{te(!1),D(null)},children:e.jsx(nn,{goalId:S,goalName:i.find(O=>O.id===S)?.name||"",users:t,onSave:ye,onCancel:()=>{te(!1),D(null)}})}),re&&e.jsx(xe,{onClose:()=>{Q(!1),H(null)},children:e.jsx(sn,{payment:W||void 0,users:t,categories:a,onSave:Pe,onCancel:()=>{Q(!1),H(null)}})}),e.jsxs("nav",{className:"tab-bar glass",children:[e.jsx(ue,{icon:"üè†",label:"–û–±–∑–æ—Ä",active:x==="dashboard",onClick:()=>k("dashboard")}),e.jsx(ue,{icon:"üìã",label:"–ò—Å—Ç–æ—Ä–∏—è",active:x==="history",onClick:()=>k("history")}),e.jsx(ue,{icon:"üí∞",label:"–§–∏–Ω–∞–Ω—Å—ã",active:x==="finance",onClick:()=>k("finance")}),e.jsx(ue,{icon:"üìä",label:"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞",active:x==="analytics",onClick:()=>k("analytics")}),e.jsx(ue,{icon:"‚öôÔ∏è",label:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",active:x==="settings",onClick:()=>k("settings")})]}),e.jsx(ot,{})]}):e.jsx(jn,{onComplete:u})}function yn(){return e.jsx(lt,{children:e.jsx(fn,{})})}function jn({onComplete:t}){const[n,a]=h.useState(""),[s,i]=h.useState(""),r=o=>{o.preventDefault(),n.trim()&&s.trim()&&t(n.trim(),s.trim())};return e.jsx("div",{className:"setup-screen",children:e.jsxs("div",{className:"setup-card glass animate-scale-in",children:[e.jsx("h1",{children:"üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"}),e.jsx("p",{children:"–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞ –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —É—á—ë—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤"}),e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1"}),e.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–ª–µ–∫—Å–µ–π",className:"text-input",autoFocus:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2"}),e.jsx("input",{type:"text",value:s,onChange:o=>i(o.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ä–∏—è",className:"text-input"})]}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:!n.trim()||!s.trim(),children:"–ù–∞—á–∞—Ç—å"})]})]})})}function ue({icon:t,label:n,active:a,onClick:s}){return e.jsxs("button",{className:`tab-button ${a?"active":""}`,onClick:s,children:[e.jsx("span",{className:"tab-icon",children:t}),e.jsx("span",{className:"tab-label",children:n})]})}function vn({subTab:t,setSubTab:n,budgets:a,goals:s,recurringPayments:i,users:r,categories:o,onAddBudget:c,onEditBudget:l,onDeleteBudget:m,onAddGoal:u,onEditGoal:f,onDeleteGoal:d,onAddContribution:g,onAddRecurring:p,onEditRecurring:j,onDeleteRecurring:w,onToggleRecurring:b}){return e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"sub-tab-bar glass",children:[e.jsx("button",{className:`sub-tab-btn ${t==="budgets"?"active":""}`,onClick:()=>n("budgets"),children:"üí∞ –ë—é–¥–∂–µ—Ç—ã"}),e.jsx("button",{className:`sub-tab-btn ${t==="goals"?"active":""}`,onClick:()=>n("goals"),children:"üéØ –¶–µ–ª–∏"}),e.jsx("button",{className:`sub-tab-btn ${t==="recurring"?"active":""}`,onClick:()=>n("recurring"),children:"üîÑ –ü–ª–∞—Ç–µ–∂–∏"})]}),t==="budgets"&&e.jsx(an,{budgets:a,categories:o,onAdd:c,onEdit:l,onDelete:m}),t==="goals"&&e.jsx(rn,{goals:s,users:r,onAdd:u,onEdit:f,onDelete:d,onAddContribution:g}),t==="recurring"&&e.jsx(cn,{payments:i,users:r,categories:o,onAdd:p,onEdit:j,onDelete:w,onToggle:b})]})}function bn({theme:t,setTheme:n,users:a,setUsers:s,updateUser:i}){const[r,o]=h.useState(null),[c,l]=h.useState(""),m=async u=>{c.trim()&&(await i(u,c.trim()),o(null),l(""),A("–ò–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–æ","success"))};return e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"}),a.map((u,f)=>e.jsx("div",{className:"setting-item animate-slide-in",style:{"--index":f},children:r===u.id?e.jsxs("div",{className:"edit-user",children:[e.jsx("input",{type:"text",value:c,onChange:d=>l(d.target.value),className:"text-input",autoFocus:!0}),e.jsx("button",{onClick:()=>m(u.id),className:"save-btn",children:"‚úì"}),e.jsx("button",{onClick:()=>o(null),className:"cancel-btn",children:"‚úï"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"user-info",children:[e.jsx("span",{className:"user-avatar pulse-on-hover",style:{background:u.color},children:u.name[0]}),e.jsx("span",{children:u.name})]}),e.jsx("button",{onClick:()=>{o(u.id),l(u.name)},className:"edit-btn",children:"‚úèÔ∏è"})]})},u.id))]}),e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"üé® –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("span",{children:"–¢—ë–º–Ω–∞—è —Ç–µ–º–∞"}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:t==="dark",onChange:u=>n(u.target.checked?"dark":"light")}),e.jsx("span",{className:"switch-slider"})]})]})]}),e.jsxs("div",{className:"card glass",children:[e.jsx("h3",{className:"card-title",children:"‚ÑπÔ∏è –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"}),e.jsx("p",{className:"setting-text",children:"Family Finance v4.0"}),e.jsxs("p",{className:"setting-text",style:{fontSize:"12px",marginTop:"8px"},children:["‚ú® Glassmorphism UI",e.jsx("br",{}),"üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –º–∏–∫—Ä–æ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è",e.jsx("br",{}),"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫",e.jsx("br",{}),"üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–∫—É–ø–æ–∫",e.jsx("br",{}),"‚ö° –ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã"]})]})]})}ve.createRoot(document.getElementById("root")).render(e.jsx(rt.StrictMode,{children:e.jsx(yn,{})}));
